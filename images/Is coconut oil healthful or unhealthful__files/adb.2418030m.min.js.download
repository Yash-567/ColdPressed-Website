/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. f5b340a3:kcz7ycsf */
!function i(o,a,s){function d(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(e){var t=o[n][1][e];return d(t||e)},r,r.exports,i,o,a,s)}return a[n].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,t,n){"use strict";function r(){var e=a(["dcn=","&pos=","&cmd=bid",""]);return r=function(){return e},e}function i(){var e=a(["","/bidRequest?"]);return i=function(){return e},e}function o(){var e=a(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return o=function(){return e},e}function a(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=e("../shim.js").polyfills,d=s.utils,c=(s.registerBidder,s.BANNER),u={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},p={GET:"display-get"},l={GET:"mobile-get",POST:"mobile-post"},g={TAG:"iframe",TYPE:"iframe"},f={TAG:"img",TYPE:"image"},m=x(o(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),h=x(i(),"host"),v=x(r(),"dcn","pos","dynamicParams"),b={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},y="https",_=1;function x(a){for(var e=arguments.length,n=new Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var i=r[r.length-1]||{},o=[a[0]];return n.forEach(function(e,t){var n=d.isInteger(e)?r[e]:i[e];o.push(n,a[t+1])}),o.join("")}}function w(e){return e===u.AOL||e===u.ONEMOBILE}function A(e){if(w(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function S(e){return w(e.bidder)&&e.params.dcn&&e.params.pos}function I(e){return((t=e.bidder)===u.AOL||t===u.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}var z={code:u.AOL,gvlid:25,aliases:[u.ONEMOBILE,u.ONEDISPLAY],supportedMediaTypes:[c],isBidRequestValid:function(e){return I(e)||(S(t=e)||A(t));var t},buildRequests:function(e,t){var r=this,i={};return t&&(i.gdpr=t.gdprConsent,i.uspConsent=t.uspConsent),e.map(function(e){var t,n=S(t=e)?l.GET:A(t)?l.POST:I(t)?p.GET:void 0;if(n)return r.formatBidRequest(n,e,i)})},interpretResponse:function(e,t){var n=e.body;if(n){var r=this._parseBidResponse(n,t);if(r)return r}else d.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){var n=!d.isEmpty(t)&&t[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,n){var r;switch(e){case p.GET:r={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case l.GET:r={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case l.POST:r={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return r.bidderCode=t.bidder,r.bidId=t.bidId,r.userSyncOn=t.params.userSyncOn,r},buildMarketplaceUrl:function(e,t){var n,r=e.params,i=r.server,o=r.region||"us";return b.hasOwnProperty(o)||(d.logWarn("Unknown region '".concat(o,"' for AOL bidder.")),o="us"),n=i||b[o],r.region=o,this.applyProtocol(m({host:n,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||d.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(r,t)}))},buildOneMobileGetUrl:function(e,t){var n,r=e.params,i=r.dcn,o=r.pos,a=r.ext,s=this.buildOneMobileBaseUrl(e);return i&&o&&(n=this.formatOneMobileDynamicParams(a,t),s+=v({dcn:i,pos:o,dynamicParams:n})),s},buildOneMobileBaseUrl:function(e){return this.applyProtocol(h({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat(y,":").concat(e):"".concat(y,"://").concat(e)},formatMarketplaceDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{},i={};n.bidFloor&&(i.bidfloor=n.bidFloor),d.assign(i,this.formatKeyValues(n.keyValues)),d.assign(i,this.formatConsentData(r));var o="";return d._each(i,function(e,t){o+="".concat(t,"=").concat(encodeURIComponent(e),";")}),o},formatOneMobileDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:{};this.isSecureProtocol()&&(n.secure=_),d.assign(n,this.formatConsentData(r));var i="";return d._each(n,function(e,t){i+="&".concat(t,"=").concat(encodeURIComponent(e))}),i},buildOpenRtbRequestData:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(n)&&(d.deepSetValue(r,"regs.ext.gdpr",_),n.gdpr.consentString&&d.deepSetValue(r,"user.ext.consent",n.gdpr.consentString)),n.uspConsent&&d.deepSetValue(r,"regs.ext.us_privacy",n.uspConsent),r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var n={};return d._each(e,function(e,t){n["kv".concat(t)]=e}),n},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=_,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t,r=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,o=[];return!e||(t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&t.forEach(function(e){var t=e.match(r)[0],n=e.match(i)[2];t&&t&&o.push({type:t===f.TAG?f.TYPE:g.TYPE,url:n})}),o},_parseBidResponse:function(e,t){var n,r;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)r=n.ext.encp;else if(null===(r=n.price)||isNaN(r))return void d.logError("Invalid price in bid response",u.AOL,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:r,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:w,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.exports=e("../shim.js").wrap({spec:z,unitIDKey:"placement",floorKey:"bidFloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],2:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=e("../shim.js").polyfills,f=i.Renderer,w=i.utils,A=i.config,m=(i.registerBidder,i.getIabSubCategory),c=i.BANNER,h=i.NATIVE,u=i.VIDEO,v=i.ADPOD,p=i.auctionManager,S=i.find,I=i.includes,b=i.OUTSTREAM,y=i.INSTREAM,a=i.getStorageManager,s="appnexus",z="https://ib.adnxs.com/ut/v3/prebid",l=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],T=["age","externalUid","segments","gender","dnt","language"],j=["geo","device_id"],k=["enabled","dongle","member_id","debug_timeout"],g={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},_={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},d="<script",C=/\/\/cdn\.adnxs\.com\/v/,R="trk.js",E=a(32,s),B={code:s,gvlid:32,aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm","adasta","beintoo"],supportedMediaTypes:[c,u,h],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r=e.map(U),n=S(e,N),i={};!0===A.getConfig("coppa")&&(i={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return I(T,e)}).forEach(function(e){var t=w.convertCamelToUnderscore(e);i[t]=n.params.user[e]});var o,a=S(e,L);a&&a.params&&a.params.app&&(o={},Object.keys(a.params.app).filter(function(e){return I(j,e)}).forEach(function(e){return o[e]=a.params.app[e]}));var s,d=S(e,F);d&&d.params&&a.params.app&&a.params.app.id&&(s={appid:d.params.app.id});var c={},u={},p=E.getCookie("apn_prebid_debug")||null;if(p)try{c=JSON.parse(p)}catch(e){w.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var l=S(e,V);l&&l.debug&&(c=l.debug)}c&&c.enabled&&Object.keys(c).filter(function(e){return I(k,e)}).forEach(function(e){u[e]=c[e]});var g,f=S(e,q),m=f?parseInt(f.params.member,10):0,h=e[0].schain,v={tags:x(r),user:i,sdk:{source:"pbjs",version:"3.26.0-pre"},schain:h};0<m&&(v.member_id=m),a&&(v.device=o),d&&(v.app=s),A.getConfig("adpod.brandCategoryExclusion")&&(v.brand_category_uniqueness=!0),u.enabled&&(v.debug=u,w.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(u,null,4))),t&&t.gdprConsent&&(v.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(v.us_privacy=t.uspConsent),t&&t.refererInfo&&(g={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},v.referrer_detection=g),S(e,G)&&e.filter(G).forEach(function(t){var e=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,i=n.requireExactDuration,o=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,i=w.getMinValueFromArray(n),o=Math.floor(t/i);return r?Math.max(o,n.length):o}(t.mediaTypes.video),a=w.getMaxValueFromArray(r),s=e.filter(function(e){return e.uuid===t.bidId}),d=w.fill.apply(w,x(s).concat([o]));{var c,u;i?(c=Math.ceil(o/r.length),u=w.chunk(d,c),r.forEach(function(t,e){u[e].map(function(e){W(e,"minduration",t),W(e,"maxduration",t)})})):d.map(function(e){return W(e,"maxduration",a)})}return d}(r,t),n=v.tags.filter(function(e){return e.uuid!==t.bidId});v.tags=[].concat(x(n),x(e))});var b=[],y=w.deepAccess(e[0],"userId.criteoId");y&&b.push({source:"criteo.com",id:y});var _=w.deepAccess(e[0],"userId.tdid");return _&&b.push({source:"adserver.org",id:_,rti_partner:"TDID"}),b.length&&(v.eids=b),r[0].publisher_id&&(v.publisher_id=r[0].publisher_id),function(e,n){var r=[],i={};!function(e){var t=!0;e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==w.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")));return t}(n)&&(i={withCredentials:!1});{var o,t;15<e.tags.length?(o=w.deepClone(e),w.chunk(e.tags,15).forEach(function(e){o.tags=e;var t=JSON.stringify(o);r.push({method:"POST",url:z,data:t,bidderRequest:n,options:i})})):(t=JSON.stringify(e),r={method:"POST",url:z,data:t,bidderRequest:n,options:i})}return r}(v,t)},interpretResponse:function(e,t){var o=this,a=t.bidderRequest;e=e.body;var n,s=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t,n,r,i=(t=e)&&t.ads&&t.ads.length&&S(t.ads,function(e){return e.rtb});i&&0!==i.cpm&&I(o.supportedMediaTypes,i.ad_type)&&((n=function(t,e,n){var r=w.getBidRequest(t.uuid,[n]),i={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(i.meta=w.assign({},i.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video){var o,a;switch(w.assign(i,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),w.deepAccess(r,"mediaTypes.video.context")){case v:var s=m(r.bidder,e.brand_category_id);i.meta=w.assign({},i.meta,{primaryCatId:s});var d=e.deal_priority;i.video={context:v,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:d},i.vastUrl=e.rtb.video.asset_url;break;case b:i.adResponse=t,i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video,i.vastXml=e.rtb.video.content,e.renderer_url&&(o=S(n.bids,function(e){return e.bidId===t.uuid}),a=w.deepAccess(o,"renderer.options"),i.renderer=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=f.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(H)}catch(e){w.logWarn("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return w.logMessage("AppNexus outstream video impression event")},loaded:function(){return w.logMessage("AppNexus outstream video loaded event")},ended:function(){w.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(i.adUnitCode,e,a));break;case y:i.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}}else if(e.rtb[h]){var c=e.rtb[h],u=e.viewability.config.replace("src=","data-src="),p=c.javascript_trackers;null==p?p=u:w.isStr(p)?p=[p,u]:p.push(u),i[h]={title:c.title,body:c.desc,body2:c.desc2,cta:c.ctatext,rating:c.rating,sponsoredBy:c.sponsored,privacyLink:c.privacy_link,address:c.address,downloads:c.downloads,likes:c.likes,phone:c.phone,price:c.price,salePrice:c.saleprice,clickUrl:c.link.url,displayUrl:c.displayurl,clickTrackers:c.link.click_trackers,impressionTrackers:c.impression_trackers,javascriptTrackers:p},c.main_img&&(i.native.image={url:c.main_img.url,height:c.main_img.height,width:c.main_img.width}),c.icon&&(i.native.icon={url:c.icon.url,height:c.icon.height,width:c.icon.width})}else{w.assign(i,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var l=e.rtb.trackers[0].impression_urls[0],g=w.createTrackPixelHtml(l);i.ad+=g}catch(e){w.logError("Error appending tracking pixel",e)}}return i}(e,i,a)).mediaType=(r=i.ad_type)===u?u:r===h?h:c,s.push(n))}),e.debug&&e.debug.debug_info&&(n=(n="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),w.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),w.logMessage(n)),s;var r="in response for ".concat(a.bidderCode," adapter");return e&&e.error&&(r+=": ".concat(e.error)),w.logError(r),s},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(n,e){return n=w.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:w.transformBidderParamKeywords,publisherId:"number"},n),e&&(n.use_pmt_rule="boolean"==typeof n.usePaymentRule&&n.usePaymentRule,n.usePaymentRule&&delete n.usePaymentRule,D(n.keywords)&&n.keywords.forEach(M),Object.keys(n).forEach(function(e){var t=w.convertCamelToUnderscore(e);t!==e&&(n[t]=n[e],delete n[e])})),n},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(w.isStr(e)&&O(e))t=e;else if(w.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];O(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,r=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),i=r.replace("dom_id=%native_dom_id%",n),o=document.getElementsByTagName("iframe"),a=!1,s=0;s<o.length&&!a;s++){var d=o[s];try{var c=d.contentDocument||d.contentWindow.document;if(c)for(var u=c.getElementsByTagName("script"),p=0;p<u.length&&!a;p++){var l=u[p];l.getAttribute("data-src")==r&&(l.setAttribute("src",i),l.setAttribute("data-src",""),l.removeAttribute&&l.removeAttribute("data-src"),a=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function D(e){return w.isArray(e)&&0<e.length}function M(e){D(e.value)&&""===e.value[0]&&delete e.value}function O(e){var t=e.match(C),n=null!=t&&1<=t.length,r=e.match(R),i=null!=r&&1<=r.length;return e.startsWith(d)&&i&&n}function U(n){var e,t,i,o,r={};r.sizes=P(n.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=n.bidId,n.params.placementId?r.id=parseInt(n.params.placementId,10):r.code=n.params.invCode,r.allow_smaller_sizes=n.params.allowSmallerSizes||!1,r.use_pmt_rule=n.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0,n.params.reserve&&(r.reserve=n.params.reserve),n.params.position&&(r.position={above:1,below:2}[n.params.position]||0),n.params.trafficSourceCode&&(r.traffic_source_code=n.params.trafficSourceCode),n.params.privateSizes&&(r.private_sizes=P(n.params.privateSizes)),n.params.supplyType&&(r.supply_type=n.params.supplyType),n.params.pubClick&&(r.pubclick=n.params.pubClick),n.params.extInvCode&&(r.ext_inv_code=n.params.extInvCode),n.params.publisherId&&(r.publisher_id=parseInt(n.params.publisherId,10)),n.params.externalImpId&&(r.external_imp_id=n.params.externalImpId),w.isEmpty(n.params.keywords)||(0<(e=w.transformBidderParamKeywords(n.params.keywords)).length&&e.forEach(M),r.keywords=e),n.mediaType!==h&&!w.deepAccess(n,"mediaTypes.".concat(h))||(r.ad_types.push(h),0===r.sizes.length&&(r.sizes=P([1,1])),n.nativeParams&&(i=n.nativeParams,o={},Object.keys(i).forEach(function(e){var t,n=_[e]&&_[e].serverName||_[e]||e,r=_[e]&&_[e].requiredParams;o[n]=w.assign({},r,i[e]),n!==_.image.serverName&&n!==_.icon.serverName||!o[n].sizes||(t=o[n].sizes,(w.isArrayOfNums(t)||w.isArray(t)&&0<t.length&&t.every(function(e){return w.isArrayOfNums(e)}))&&(o[n].sizes=P(o[n].sizes))),n===_.privacyLink&&(o.privacy_supported=!0)}),t=o,r[h]={layouts:[t]}));var a=w.deepAccess(n,"mediaTypes.".concat(u)),s=w.deepAccess(n,"mediaTypes.video.context");r.hb_source=a&&"adpod"===s?7:1,n.mediaType!==u&&!a||r.ad_types.push(u),(n.mediaType===u||a&&"outstream"!==s)&&(r.require_asset_url=!0),n.params.video&&(r.video={},Object.keys(n.params.video).filter(function(e){return I(l,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=n.params.video[e],t=w.isArray(t)?t[0]:t;r.video[e]=g[e][t];break;default:r.video[e]=n.params.video[e]}})),n.renderer&&(r.video=w.assign({},r.video,{custom_renderer_present:!0}));var d=S(p.getAdUnits(),function(e){return n.transactionId===e.transactionId});return d&&d.mediaTypes&&d.mediaTypes.banner&&r.ad_types.push(c),0===r.ad_types.length&&delete r.ad_types,r}function P(e){var t=[],n={};if(w.isArray(e)&&2===e.length&&!w.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===o(e))for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t}function N(e){return!!e.params.user}function q(e){return!!parseInt(e.params.member,10)}function L(e){if(e.params)return!!e.params.app}function F(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function V(e){return!!e.debug}function G(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===v}function W(e,t,n){w.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function H(e){var t,n;t=e.adUnitCode,(n=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&n[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}t.exports=e("../shim.js").wrap({spec:B,unitIDKey:"placementId",floorKey:"reserve",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],3:[function(e,t,n){"use strict";function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../shim.js").polyfills,v=r.utils,f=r.BANNER,m=r.VIDEO,b=r.config,y=r.find,i=r.isInteger,o=(r.registerBidder,[f,m]),_=100,x=300,w=3600,A=!0,S={JPY:1};function c(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function a(e){return Array.isArray(e)&&2===e.length&&i(e[0])&&i(e[1])}function u(e,t){if(a(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return 1}function p(e,t,n,r){var i=[];if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var o,a=window.headertag.getIdentityInfo();if(a&&"object"===h(a))for(var s in a){!a.hasOwnProperty(s)||!(o=a[s]).responsePending&&o.data&&"object"===h(o.data)&&Object.keys(o.data).length&&i.push(o.data)}}var d,c={};c.id=e[0].bidderRequestId,c.imp=n,c.site={},c.ext={},c.ext.source="prebid",e[0].schain&&(c.source={ext:{schain:e[0].schain}}),0<i.length&&(c.user={},c.user.eids=i),document.referrer&&""!==document.referrer&&(c.site.ref=document.referrer),t&&(t.gdprConsent&&((d=t.gdprConsent).hasOwnProperty("gdprApplies")&&(c.regs={ext:{gdpr:d.gdprApplies?1:0}}),d.hasOwnProperty("consentString")&&(c.user=c.user||{},c.user.ext={consent:d.consentString||""})),t.uspConsent&&v.deepSetValue(c,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(c.site.page=t.refererInfo.referer));var u={},p=t&&t.bidderCode||"ix",l=b.getConfig(p);if(l){if("object"===h(l.firstPartyData)){var g=l.firstPartyData,f="?";for(var m in g)g.hasOwnProperty(m)&&(f+="".concat(encodeURIComponent(m),"=").concat(encodeURIComponent(g[m]),"&"));f=f.slice(0,-1),c.site.page+=f}"number"==typeof l.timeout&&(u.t=l.timeout)}return u.s=e[0].params.siteId,u.v=r,u.r=JSON.stringify(c),u.ac="j",u.sd=1,8.1===r&&(u.nf=1),{method:"GET",url:"https://as-sec.casalemedia.com/cygnus",data:u}}var s={code:"ix",gvlid:10,supportedMediaTypes:o,isBidRequestValid:function(e){if(!a(e.params.size))return v.logError("ix bidder params: bid size has invalid format."),!1;if(!u(e.sizes,e.params.size))return v.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!v.contains(o,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!v.deepAccess(e,"mediaTypes.banner.sizes")&&!v.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return v.logError("ix bidder params: siteId must be string or number value."),!1;var t,n,r=e.params.hasOwnProperty("bidFloor"),i=e.params.hasOwnProperty("bidFloorCur");return!!(!r&&!i||r&&i&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/))))||(v.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,r,i,o=[],a=[],s=[],d=0;d<e.length;d++)(n=e[d]).mediaType!==m&&!v.deepAccess(n,"mediaTypes.video")||(n.mediaType===m||u(n.mediaTypes.video.playerSize,n.params.size)?s.push(function(e){var t=c(e);t.video=v.deepClone(e.params.video),t.video.w=e.params.size[0],t.video.h=e.params.size[1];var n=v.deepAccess(e,"mediaTypes.video.context");return n&&("instream"===n?t.video.placement=1:"outstream"===n?t.video.placement=4:v.logWarn("ix bidder params: video context '".concat(n,"' is not supported"))),t}(n)):v.logError("Bid size is not included in video playerSize")),n.mediaType!==f&&!v.deepAccess(n,"mediaTypes.banner")&&(n.mediaType||n.mediaTypes)||a.push((i=void 0,(i=c(r=n)).banner={},i.banner.w=r.params.size[0],i.banner.h=r.params.size[1],i.banner.topframe=v.inIframe()?0:1,i));return 0<a.length&&o.push(p(e,t,a,7.2)),0<s.length&&o.push(p(e,t,s,8.1)),o},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var r,i,o,a,s=e.body,d=s.seatbid,c=0;c<d.length;c++)if(d[c].hasOwnProperty("bid"))for(var u=d[c].bid,p=JSON.parse(t.data.r),l=0;l<u.length;l++){var g=function(t,e){if(t)return y(e,function(e){return e.id===t})}(u[l].impid,p.imp);r=u[l],i=s.cur,o=g,a=void 0,a={},S.hasOwnProperty(i)?a.cpm=r.price/S[i]:a.cpm=r.price/_,a.requestId=r.impid,a.dealId=v.deepAccess(r,"ext.dealid"),a.netRevenue=A,a.currency=i,a.creativeId=r.hasOwnProperty("crid")?r.crid:"-",v.deepAccess(r,"ext.vasturl")?(a.vastUrl=r.ext.vasturl,a.width=o.video.w,a.height=o.video.h,a.mediaType=m,a.ttl=w):(a.ad=r.adm,a.width=r.w,a.height=r.h,a.mediaType=f,a.ttl=x),a.meta={},a.meta.networkId=v.deepAccess(r,"ext.dspid"),a.meta.brandId=v.deepAccess(r,"ext.advbrandid"),a.meta.brandName=v.deepAccess(r,"ext.advbrand"),n.push(a)}return n},transformBidParams:function(e){return v.convertTypes({siteID:"number"},e)},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};t.exports=e("../shim.js").wrap({spec:s,unitIDKey:"siteId",floorKey:"bidFloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],4:[function(e,t,n){"use strict";var r=e("../shim.js").polyfills,u=(r.registerBidder,r.utils),p=r.config,i=r.BANNER,o=r.NATIVE,a=r.getRefererInfo,d="medianet",c={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},s="client_timeout",l="client_bid_won",g=a(),f={};function m(e){var t={domain:(e=e||{}).domain||f.urlData.domain,page:e.page||f.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||f.urlData.isTop};return u.assign(t,function(){if(f.pageMeta)return f.pageMeta;var e=h('link[rel="canonical"]',"href"),t=h('meta[property="og:url"]',"content"),n=h('meta[name="twitter:url"]',"content");return f.pageMeta=u.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),f.pageMeta}())}function h(e,t){var n,r,i=function(e,t){try{var n=u.getWindowTop().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return i&&(n=i,(r=u.getWindowTop().document.createElement("a")).href=n,r.href)}function v(e,t){return e.filter(function(e){return e.type===t})}function b(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function y(e){var t,n={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},r=u.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes||[];if(0<r.length&&(n.banner=(t=r,u.isArray(t)&&2===t.length&&!u.isArray(t[0])?[b(t)]:t.map(b))),e.nativeParams)try{n.native=JSON.stringify(e.nativeParams)}catch(e){u.logError("".concat(d," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(n.tagid=e.params.crid.toString());var i=parseFloat(e.params.bidfloor);i&&(n.bidfloor=i);var o,a,s=function(e){var t=document.getElementById(e);if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r={};return r.top_left={y:n.top,x:n.left},r.bottom_right={y:n.bottom,x:n.right},r}return null}(e.adUnitCode);return s&&n.banner&&0!==n.banner.length?(o={top_left:{x:(a=s).top_left.x+window.pageXOffset,y:a.top_left.y+window.pageYOffset},bottom_right:{x:a.bottom_right.x+window.pageXOffset,y:a.bottom_right.y+window.pageYOffset}},n.ext.coordinates=o,n.ext.viewability=x(s.top_left,_(n.banner)),.5<x(o.top_left,_(n.banner))?n.ext.visibility=c.ABOVE_THE_FOLD:n.ext.visibility=c.BELOW_THE_FOLD):n.ext.visibility=c.NOT_DETERMINED,n}function _(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function x(e,t){var n=t.w*t.h,r=S.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0==n||-1===r.w||-1===r.h?0:function(e,t,n,r){if(e.x>r.x||t.x<n.x||e.y>r.y||t.y<n.y)return 0;return(Math.min(t.x,r.x)-Math.max(e.x,n.x))*(Math.min(t.y,r.y)-Math.max(e.y,n.y))}(e,i,{x:0,y:0},{x:r.w,y:r.h})/n}function w(e,t){return{site:m(e[0].params.site),ext:(n=e[0].params,r=t.gdprConsent,i=t.uspConsent,o=e[0].userId,a=S.getWindowSize(),s=!(!r||!r.gdprApplies),d=!!i,c=!!p.getConfig("coppa"),u.assign({},{customer_id:n.cid},{prebid_version:AdBridg.globals.version},{gdpr_applies:s},s&&{gdpr_consent_string:r.consentString||""},{usp_applies:d},d&&{usp_consent_string:i||""},{coppa_applies:c},-1!==a.w&&-1!==a.h&&{screen:a},o&&{user_id:o},AdBridg.globals.medianetGlobals.analyticsEnabled&&{analytics:!0})),id:e[0].auctionId,imp:e.map(y),tmax:t.timeout||p.getConfig("bidderTimeout")};var n,r,i,o,a,s,d,c}function A(e,t){var n={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=u.isArray(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=u.deepAccess(t,"0.auctionId")||"",n.cid=AdBridg.globals.medianetGlobals.cid||"",n.crid=t.map(function(e){return u.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),n.adunit_count=t.length||0,n.dn=f.urlData.domain||"",n.requrl=f.urlData.page||"",n.istop=f.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}(e,t)};u.triggerPixel(u.buildUrl(n))}f.urlData={domain:u.parseUrl(g.referer).host,page:g.referer,isTop:g.reachedTop},AdBridg.globals.medianetGlobals=AdBridg.globals.medianetGlobals||{};var S={code:d,gvlid:142,supportedMediaTypes:[i,o],isBidRequestValid:function(e){return e.params?e.params.cid&&u.isStr(e.params.cid)&&!u.isEmptyStr(e.params.cid)?(u.assign(AdBridg.globals.medianetGlobals,!AdBridg.globals.medianetGlobals.cid&&{cid:e.params.cid}),!0):(u.logError("".concat(d," : cid should be a string")),!1):(u.logError("".concat(d," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n,r=w(e,t);return{method:"POST",url:(n=r.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(r)}},interpretResponse:function(e){var t=[];if(!e||!e.body)return u.logInfo("".concat(d," : response is empty")),t;var n=e.body.bidList;return u.isArray(n)&&0!==n.length?t=n.filter(function(e){return!1===(t=e).no_bid&&0<parseFloat(t.cpm);var t}):(u.logInfo("".concat(d," : no bids")),t)},getUserSyncs:function(e,t){var n,r=(n=t,!u.isEmpty(n)&&n[0].body&&n[0].body.ext&&u.isArray(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[]);return e.iframeEnabled?v(r,"iframe"):e.pixelEnabled?v(r,"image"):void 0},onTimeout:function(e){try{A({name:s,value:e.length,related_data:e[0].timeout||p.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{A({name:l,value:e.cpm},[e])}catch(e){}},clearMnData:function(){f={}},getWindowSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}}};t.exports=e("../shim.js").wrap({spec:S,unitIDKey:"crid",floorKey:"bidfloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],5:[function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=e("../shim.js").polyfills,d=i.config,c=(i.registerBidder,i.utils),o=i.BANNER,s=i.VIDEO,u="hb_pb",p="3.0.2",l={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableid:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},g={code:"openx",gvlid:69,supportedMediaTypes:[o,s],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return c.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<c.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,r){if(0===e.length)return[];var i=[],t=a(e.reduce(function(e,t){var n;return n=t,c.deepAccess(n,"mediaTypes.video")&&!c.deepAccess(n,"mediaTypes.banner")||n.mediaType===s?e[0].push(t):e[1].push(t),e},[[],[]]),2),n=t[0],o=t[1];return 0<o.length&&i.push(function(e,t){var r=[],i=!1,n=f(e,t),o=c._map(e,function(e){return e.params.unit});n.aus=c._map(e,function(e){return c.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),n.divIds=c._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),o.some(function(e){return e})&&(n.auid=o.join(","));e.some(function(e){return e.params.doNotTrack})&&(n.ns=1);!0!==d.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(n.tfcd=1);e.forEach(function(t){var e,n;t.params.customParams?(e=c._map(Object.keys(t.params.customParams),function(e){return function(e,t){var n=t[e];c.isArray(n)&&(n=n.join(","));return(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(e,t.params.customParams)}),n=window.btoa(e.join("&")),i=!0,r.push(n)):r.push("")}),i&&(n.tps=r.join(","));var a=[],s=!1;e.forEach(function(e){e.params.customFloor?(a.push(Math.round(100*e.params.customFloor)/100*1e3),s=!0):a.push(0)}),s&&(n.aumfs=a.join(","));return{method:"GET",url:n.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:n,payload:{bids:e,startTime:new Date}}}(o,r)),0<n.length&&n.forEach(function(e){var t,n;i.push({method:"GET",url:(n=function(e,t){var n,r,i=f([e],t),o=c.deepAccess(e,"params.video")||{},a=c.deepAccess(e,"mediaTypes.video.context"),s=c.deepAccess(e,"mediaTypes.video.playerSize");c.isArray(e.sizes)&&2===e.sizes.length&&!c.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):c.isArray(e.sizes)&&c.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):c.isArray(s)&&2===s.length&&(n=parseInt(s[0],10),r=parseInt(s[1],10));Object.keys(o).forEach(function(e){"openrtb"===e?(o[e].w=n||o[e].w,o[e].v=r||o[e].v,i[e]=JSON.stringify(o[e])):e in i||"url"===e||(i[e]=o[e])}),i.auid=e.params.unit,i.vwd=n||o.vwd,i.vht=r||o.vht,"outstream"===a&&(i.vos="101");o.mimes&&(i.vmimes=o.mimes);return i}(t=e,r)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:t,startTime:new Date}})}),i},interpretResponse:function(e,t){var n=e.body;return((/avjp$/.test(t.url)?s:o)===s?function(e,t){var n=t.bid,r=(t.startTime,[]);{var i,o;void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(i=c.parseUrl(e.vastUrl).search||{},(o={}).requestId=n.bidId,o.ttl=300,o.netRevenue=!0,o.currency=e.currency,o.cpm=parseInt(e.pub_rev,10)/1e3,o.width=parseInt(e.width,10),o.height=parseInt(e.height,10),o.creativeId=e.adid,o.vastUrl=e.vastUrl,o.mediaType=s,e.ph=i.ph,e.colo=i.colo,e.ts=i.ts,r.push(o))}return r}:function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),i=[],o=0;o<r.length;o++){var a,s=r[o],d=parseInt(s.idx,10),c={};c.requestId=n[d].bidId,s.pub_rev&&(c.cpm=Number(s.pub_rev)/1e3,(a=s.creative[0])&&(c.width=a.width,c.height=a.height),c.creativeId=a.id,c.ad=s.html,s.deal_id&&(c.dealId=s.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=s.currency,s.tbd&&(c.tbd=s.tbd),c.ts=s.ts,c.meta={},s.brand_id&&(c.meta.brandId=s.brand_id),s.adv_id&&(c.meta.dspid=s.adv_id),i.push(c))}return i})(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:c.deepAccess(t,"0.body.ads.pixels")||c.deepAccess(t,"0.body.pixels")||function(e,t){var n=[];e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&n.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):"")}(n,r)}]},transformBidParams:function(e){return c.convertTypes({unit:"string",customFloor:"number"},e)}};function f(e,t){var n,r,i,o,a=c.inIframe(),s={ju:d.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:a,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,n,r,i=window,o=document,a=o.documentElement;if(e){try{i=window.top,o=window.top.document}catch(e){return}a=o.documentElement,r=o.body,t=i.innerWidth||a.clientWidth||r.clientWidth,n=i.innerHeight||a.clientHeight||r.clientHeight}else a=o.documentElement,t=i.innerWidth||a.clientWidth,n=i.innerHeight||a.clientHeight;return"".concat(t,"x").concat(n)}(a),be:1,bc:e[0].params.bc||"".concat(u,"_").concat(p),dddid:c._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(s.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(n=t.gdprConsent).consentString&&(s.gdpr_consent=n.consentString),void 0!==n.gdprApplies&&(s.gdpr=n.gdprApplies?1:0),"iab"===d.getConfig("consentManagement.cmpApi")&&(s.x_gdpr_f=1)),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),c.deepAccess(e[0],"crumbs.pubcid")&&c.deepSetValue(e[0],"userId.pubcid",c.deepAccess(e[0],"crumbs.pubcid")),r=s,i=e[0].userId,c._each(i,function(e,t){var n=l[t];if(l.hasOwnProperty(t))switch(t){case"digitrustid":r[n]=c.deepAccess(e,"data.id");break;case"lipb":r[n]=e.lipbid;break;default:r[n]=e}}),s=r,e[0].schain&&(s.schain=(o=e[0].schain,"".concat(o.ver,",").concat(o.complete,"!").concat(function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return t[e]||""}).join(",")}).join("!")}(o.nodes)))),s}t.exports=e("../shim.js").wrap({spec:g,unitIDKey:"unit",floorKey:"customFloor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],6:[function(e,t,n){"use strict";function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=e("../shim.js").polyfills,v=i.utils,b=(i.registerBidder,i.config),o=i.BANNER,y=i.VIDEO,a="https://fastlane.rubiconproject.com/a/api/fastlane.json",d={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}},u={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};v._each(u,function(e,t){return u[e]=t});var _={code:"rubicon",gvlid:52,supportedMediaTypes:[o,y],isBidRequestValid:function(e){if("object"!==h(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return v.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r,i,o,a,s,d=p(e,!0);return!!d&&("video"!==d||(r=e,i=!0,o=Object.prototype.toString.call([]),a=Object.prototype.toString.call(0),s={mimes:o,protocols:o,maxduration:a,linearity:a,api:o},Object.keys(s).forEach(function(e){Object.prototype.toString.call(v.deepAccess(r,"mediaTypes.video."+e))!==s[e]&&(i=!1,v.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+s[e]))}),i))},buildRequests:function(e,g){var i,t=e.filter(function(e){return"video"===p(e)}).map(function(e){e.startTime=(new Date).getTime();var t,n,r,i,o,a={id:e.transactionId,test:b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:b.getConfig("TTL")||1e3,imp:[{exp:300,id:e.adUnitCode,secure:1,ext:f({},e.bidder,e.params),video:v.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(t=b).getConfig("customPriceBucket")&&t.getConfig("customPriceBucket").buckets}[t.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:b.getConfig("rubicon.int_type")||"pbjs"}}}}};"rubicon"!==e.bidder&&(a.ext.prebid.aliases=f({},e.bidder,"rubicon")),r="function"!=typeof e.getFloor||b.getConfig("rubicon.disableFloors")?parseFloat(v.deepAccess(e,"params.floor")):"object"!==h(n=e.getFloor({currency:"USD",mediaType:"video",size:A(e,"video")}))||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:parseFloat(n.floor),isNaN(r)||(a.imp[0].bidfloor=r),a.imp[0].ext[e.bidder].video.size_id=(i=e,o=parseInt(v.deepAccess(i,"params.video.size_id")),isNaN(o)?"outstream"===v.deepAccess(i,"mediaTypes.".concat(y,".context"))?203:201:o),function(t,n,e){if(!t)return;"object"===h(b.getConfig("app"))?t.app=b.getConfig("app"):t.site={page:w(n,e)};"object"===h(b.getConfig("device"))&&(t.device=b.getConfig("device"));n.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=v.assign({language:n.params.video.language},t[e].content))})}(a,e,g),function(e,t){"object"===h(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip);"object"===h(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay);"object"===h(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=A(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(a,e);var s,d=x(e,"PREBID_SERVER");d&&v.deepSetValue(a,"user.ext.digitrust",d),g.gdprConsent&&("boolean"==typeof g.gdprConsent.gdprApplies&&(s=g.gdprConsent.gdprApplies?1:0),v.deepSetValue(a,"regs.ext.gdpr",s),v.deepSetValue(a,"user.ext.consent",g.gdprConsent.consentString)),g.uspConsent&&v.deepSetValue(a,"regs.ext.us_privacy",g.uspConsent),e.userId&&"object"===h(e.userId)&&(e.userId.tdid||e.userId.pubcid||e.userId.lipb||e.userId.idl_env)&&(v.deepSetValue(a,"user.ext.eids",[]),e.userId.tdid&&a.user.ext.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]}),e.userId.pubcid&&a.user.ext.eids.push({source:"pubcommon",uids:[{id:e.userId.pubcid}]}),e.userId.lipb&&e.userId.lipb.lipbid&&(a.user.ext.eids.push({source:"liveintent.com",uids:[{id:e.userId.lipb.lipbid}]}),a.user.ext.tpid={source:"liveintent.com",uid:e.userId.lipb.lipbid},Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&v.deepSetValue(a,"rp.target.LIseg",e.userId.lipb.segments)),e.userId.idl_env&&a.user.ext.eids.push({source:"liveramp.com",uids:[{id:e.userId.idl_env}]})),!0===b.getConfig("coppa")&&v.deepSetValue(a,"regs.coppa",1),e.schain&&S(e.schain)&&v.deepSetValue(a,"source.ext.schain",e.schain);var c,u=v.assign({},e.params.inventory,b.getConfig("fpd.context")),p=v.assign({},e.params.visitor,b.getConfig("fpd.user"));v.isEmpty(u)&&v.isEmpty(p)||(c={bidders:[g.bidderCode],config:{fpd:{}}},v.isEmpty(u)||(c.config.fpd.site=u),v.isEmpty(p)||(c.config.fpd.user=p),v.deepSetValue(a,"ext.prebid.bidderconfig.0",c));var l=v.deepAccess(e,"fpd.context.pbAdSlot");return"string"==typeof l&&l&&v.deepSetValue(a.imp[0].ext,"context.data.adslot",l),e.storedAuctionResponse&&v.deepSetValue(a.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),v.deepSetValue(a.imp[0],"ext.prebid.auctiontimestamp",g.auctionStart),{method:"POST",url:"https://prebid-server.rubiconproject.com/openrtb2/auction",data:a,bidRequest:e}});return!0!==b.getConfig("rubicon.singleRequest")?t.concat(e.filter(function(e){return"banner"===p(e)}).map(function(e){var r=_.createSlotParams(e,g);return{method:"GET",url:a,data:_.getOrderedParams(r).reduce(function(e,t){var n=r[t];return v.isStr(n)&&""!==n||v.isNumber(n)?"".concat(e).concat(c(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(i=e.filter(function(e){return"banner"===p(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(i).reduce(function(t,e){var n,r;return n=i[e],r=10,n.map(function(e,t){return t%r==0?n.slice(t,t+r):null}).filter(function(e){return e}).forEach(function(e){var r=_.combineSlotUrlParams(e.map(function(e){return _.createSlotParams(e,g)}));t.push({method:"GET",url:a,data:_.getOrderedParams(r).reduce(function(e,t){var n=r[t];return v.isStr(n)&&""!==n||v.isNumber(n)?"".concat(e).concat(c(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","dt.id","dt.keyv","dt.pref","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}))},combineSlotUrlParams:function(i){if(1===i.length)return i[0];var r=i.reduce(function(t,n,r){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(i.length)),t[e].splice(r,1,n[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach(function(e){var t=r[e].join(";"),n=t.match(o);r[e]=n?n[1]:t}),r},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n,r=e.params,i=A(e,"banner"),o=m(r.latLong||[],2),a=o[0],s=o[1],d=b.getConfig("rubicon.int_type"),c={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<(r.floor=parseFloat(r.floor))?r.floor:.01,rp_secure:"1",tk_flint:"".concat(d||"pbjs_lite","_v3.26.0-pre"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:w(e,t)};"function"!=typeof e.getFloor||b.getConfig("rubicon.disableFloors")||(n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"}),c.rp_hard_floor="object"!==h(n)||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:n.floor),c.p_pos="atf"===r.position||"btf"===r.position?r.position:"",e.userId&&(e.userId.tdid&&(c.tpid_tdid=e.userId.tdid),e.userId.lipb&&e.userId.lipb.lipbid&&(c["tpid_liveintent.com"]=e.userId.lipb.lipbid,Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&(c["tg_v.LIseg"]=e.userId.lipb.segments.join(","))),e.userId.idl_env&&(c["tpid_liveramp.com"]=e.userId.idl_env)),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(c.gdpr=Number(t.gdprConsent.gdprApplies)),c.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(c.us_privacy=encodeURIComponent(t.uspConsent));var u=v.assign({},r.visitor,b.getConfig("fpd.user"));Object.keys(u).forEach(function(e){null!=u[e]&&"keywords"!==e&&(c["tg_v.".concat(e)]="object"!==h(u[e])||Array.isArray(u[e])?u[e].toString():JSON.stringify(u[e]))});var p=v.assign({},r.inventory,b.getConfig("fpd.context"));Object.keys(p).forEach(function(e){null!=p[e]&&"keywords"!==e&&(c["tg_i.".concat(e)]="object"!==h(p[e])||Array.isArray(p[e])?p[e].toString():JSON.stringify(p[e]))});var l=(r.keywords||[]).concat(v.deepAccess(b.getConfig("fpd.user"),"keywords")||[],v.deepAccess(b.getConfig("fpd.context"),"keywords")||[]);c.kw=Array.isArray(l)&&l.length?l.join(","):"";var g=v.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof g&&g&&(c["tg_i.dfp_ad_unit_code"]=g.replace(/^\/+/,""));var f=x(e,"FASTLANE");return v.assign(c,f),!0===b.getConfig("coppa")&&(c.coppa=1),e.schain&&S(e.schain)&&(c.rp_schain=_.serializeSupplyChain(e.schain)),c},serializeSupplyChain:function(e){if(!S(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(_.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(d,e){var c=e.bidRequest;if(!(d=d.body)||"object"!==h(d))return[];if(d.seatbid){var t=v.deepAccess(d,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&v.logWarn("Rubicon: Error in video response");var o=[];return d.seatbid.forEach(function(i){(i.bid||[]).forEach(function(e){var t={requestId:c.bidId,currency:d.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:i.seat,ttl:300,netRevenue:!1!==b.getConfig("rubicon.netRevenue"),width:e.w||v.deepAccess(c,"mediaTypes.video.w")||v.deepAccess(c,"params.video.playerWidth"),height:e.h||v.deepAccess(c,"mediaTypes.video.h")||v.deepAccess(c,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var n,r=v.deepAccess(d,"ext.responsetimemillis.rubicon");c&&r&&(c.serverResponseTimeMs=r),v.deepAccess(e,"ext.prebid.type")===y?(t.mediaType=y,(n=v.deepAccess(e,"ext.prebid.targeting"))&&"object"===h(n)&&(t.adserverTargeting=n),e.ext.prebid.cache&&"object"===h(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):n&&n.hb_uuid&&n.hb_cache_host&&n.hb_cache_path&&(t.videoCacheKey=n.hb_uuid,t.vastUrl="https://".concat(n.hb_cache_host).concat(n.hb_cache_path,"?uuid=").concat(n.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):v.logWarn("Rubicon: video response received non-video media type"),o.push(t)})}),o}var n=d.ads;return"object"!==h(c)||Array.isArray(c)||"video"!==p(c)||"object"!==h(n)||(n=n[c.adUnitCode]),!Array.isArray(n)||n.length<1?[]:n.reduce(function(e,t,n){if("ok"!==t.status)return e;var r,i,o,a,s=Array.isArray(c)?c[n]:c;return s&&"object"===h(s)?(r={requestId:s.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==b.getConfig("rubicon.netRevenue"),rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(r.mediaType=t.creative_type),t.creative_type===y?(r.width=s.params.video.playerWidth,r.height=s.params.video.playerHeight,r.vastUrl=t.creative_depot_url,r.impression_id=t.impression_id,r.videoCacheKey=t.impression_id):(r.ad=(o=t.script,a=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(a,"'>\n<script type='text/javascript'>").concat(o,"<\/script>\n</div>\n</body>\n</html>")),i=m(u[t.size_id].split("x").map(function(e){return Number(e)}),2),r.width=i[0],r.height=i[1]),r.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:s.adUnitCode}),e.push(r)):v.logError("Rubicon: bidRequest undefined at index position:".concat(n),c,d),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,r){if(!l&&e.iframeEnabled){var i="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?i+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):i+="?gdpr_consent=".concat(n.consentString)),r&&(i+="".concat(i?"&":"?","us_privacy=").concat(encodeURIComponent(r))),l=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+i}}},transformBidParams:function(e){return v.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function x(e,t){var n,r=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length?t:void 0;if(!i||!d[i])return null;var o=d[i];var a=function(){var e=v.deepAccess(r,"userId.digitrustid.data");if(e)return e;var t=window.DigiTrust&&(b.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return t&&t.success&&t.identity||null}();if(!a||a.privacy&&a.privacy.optout)return null;var s=(f(n={},o.id,a.id),f(n,o.keyv,a.keyv),n);return o.pref&&(s[o.pref]=0),s}function w(e,t){var n=b.getConfig("pageUrl"),n=e.params.referrer?e.params.referrer:n||t.refererInfo.referer;return e.params.secure?n.replace(/^http:/i,"https:"):n}function A(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(v.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(r=e.sizes[0]),r}var i,o=[];return Array.isArray(n.sizes)?o=n.sizes:void 0!==v.deepAccess(e,"mediaTypes.banner.sizes")?o=s(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?o=s(e.sizes):v.logWarn("Rubicon: no sizes are setup or found"),i=[15,2,9],o.sort(function(e,t){var n=i.indexOf(e),r=i.indexOf(t);return-1<n||-1<r?-1===n?1:-1===r?-1:n-r:e-t})}function s(e){return v.parseSizesInput(e).reduce(function(e,t){var n=parseInt(u[t],10);return n&&e.push(n),e},[])}function p(e,t){var n,r=1<arguments.length&&void 0!==t&&t;return n=e,"object"===h(v.deepAccess(n,"params.video"))&&void 0!==v.deepAccess(n,"mediaTypes.".concat(y))?-1===["outstream","instream"].indexOf(v.deepAccess(e,"mediaTypes.".concat(y,".context")))?void(r&&v.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):A(e,"video").length<2?void(r&&v.logError("Rubicon: could not determine the playerSize of the video")):(r&&v.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===A(e,"banner").length?void(r&&v.logError("Rubicon: could not determine the sizes for banner request")):(r&&v.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function S(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e?n.every(function(e){return t[e]}):e},!0))||v.logError("Rubicon: required schain params missing")),t}function c(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var l=!1;t.exports=e("../shim.js").wrap({spec:_,unitIDKey:"zoneId",floorKey:"floor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],7:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=e("../shim.js").polyfills,s=i.BANNER,d=(i.registerBidder,i.utils),c=i.config,u=!0,p=null,l={code:"triplelift",supportedMediaTypes:[s],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n,r="https://tlx.3lift.com/header/auction?",i=function(e){var t={},n=e[0].schain;t.imp=e.map(function(e,t){return{id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;{var n;"function"==typeof e.getFloor&&("object"!==o(n=e.getFloor({currency:"USD",mediaType:"banner",size:f(e.sizes)}))||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor)))}return null!==t?t:e.params.floor}(e),banner:{format:f(e.sizes)}}});var r=[].concat(a(function(e){return g(e,"tdid","adserver.org","TDID")}(e)),a(function(e){return g(e,"idl_env","liveramp.com","idl")}(e)),a(function(e){return g(e,"criteoId","criteo.com","criteoId")}(e)));0<r.length&&(t.user={ext:{eids:r}});n&&(t.ext={schain:n});return t}(e);return r=d.tryAppendQueryString(r,"lib","prebid"),r=d.tryAppendQueryString(r,"v","3.26.0-pre"),t&&t.refererInfo&&(n=t.refererInfo.referer,r=d.tryAppendQueryString(r,"referrer",n)),t&&t.timeout&&(r=d.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(u=t.gdprConsent.gdprApplies,r=d.tryAppendQueryString(r,"gdpr",u.toString())),void 0!==t.gdprConsent.consentString&&(p=t.gdprConsent.consentString,r=d.tryAppendQueryString(r,"cmp_cs",p))),t&&t.uspConsent&&(r=d.tryAppendQueryString(r,"us_privacy",t.uspConsent)),!0===c.getConfig("coppa")&&(r=d.tryAppendQueryString(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),d.logMessage("tlCall request built: "+r),{method:"POST",url:r,data:i,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"";0!=t.cpm&&t.ad&&(n={requestId:e.bids[t.imp_id].bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source});return n}(n,e)})},getUserSyncs:function(e,t,n,r){var i=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(i){var o="https://eb2.3lift.com/sync?";return"image"===i&&(o=d.tryAppendQueryString(o,"px",1),o=d.tryAppendQueryString(o,"src","prebid")),null!==p&&(o=d.tryAppendQueryString(o,"gdpr",u),o=d.tryAppendQueryString(o,"cmp_cs",p)),r&&(o=d.tryAppendQueryString(o,"us_privacy",r)),[{type:i,url:o}]}}};function g(e,t,n,r){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(function(e){return!!e}).map((i=n,o=r,function(e){return{source:i,uids:[{id:e,ext:{rtiPartner:o}}]}}));var i,o,a}function f(e){return e.filter(m).map(function(e){return{w:e[0],h:e[1]}})}function m(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:l,unitIDKey:"inventoryCode",floorKey:"floor",uspSupport:!0,gdprSupport:!0})},{"../shim.js":21}],8:[function(e,t,n){t.exports=e(7)},{"../shim.js":21}],9:[function(e,t,n){var o=e("./utils.js");t.exports=o.wrapAsync(function(n,r){var i,e=!1,t=n.method||(n.data?"POST":"GET");window.XMLHttpRequest?(i=new window.XMLHttpRequest).onreadystatechange=o.wrapAsync(function(){if(4===i.readyState){var e=i.status;if(200<=e&&e<300||304===e){if(n.rawProcessor)try{n.rawProcessor(i)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var t=JSON.parse(i.responseText||"null");r(null,t,i)}catch(e){r({err:e,type:"parse"},"",i)}else r(null,i.responseText,i)}else r(0===e?{err:"",type:"timeout"}:{err:i.statusText,type:"status="+e},"",i)}}):(e=!0,(i=new window.XDomainRequest).onload=o.wrapAsync(function(){if(n.rawProcessor)try{n.rawProcessor(i)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var e=JSON.parse(i.responseText||"null");r(null,e,i)}catch(e){r({err:e,type:"parse"},"",i)}else r(null,i.responseText,i)}),i.onerror=o.wrapAsync(function(e){r({err:e,type:"error"},"",i)}),i.ontimeout=o.wrapAsync(function(e){r({err:e,type:"timeout"},"",i)}),i.onprogress=function(){}),i.open(t,n.url),0!==n.max_ms&&(i.timeout=n.max_ms||3e3,o.logl("at","Ajax >",n.url,i.timeout)),e||(n.withCredentials&&(i.withCredentials=!0),o.each(n.headers,function(e,t){i.setRequestHeader(t,e)}),n.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",n.contentType||"text/plain")),i.send("POST"===t&&n.data)})},{"./utils.js":23}],10:[function(e,t,s){function r(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}var f=e("./utils.js"),d=e("./config.js"),m={USD:1,EUR:2},h={banner:1,native:2,video:3},i=r(),o="aX0";s.id=[2,o,i].join(",");var c="";d.afterConsent(function(e,t,n){try{c=(window.__cmp?"1":"0")+(window.__uspapi?"1":"0")+n,e&&(c+=".g"+(e.gdprApplies?"Y":"N")+(e.consentString||"")),t&&(c+=".u"+(t.version||0)+(t.uspString||""))}catch(e){f.err("ClogErr",e)}e&&e.gdprApplies||(o=(o=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+r(),f.cw("_adb",o,365),s.id=[2,o,i].join(","))});function a(e,t,n,r,i){u[e]||(u[e]=[]),u[e].push(i),p[e]=r,l[e]||(l[e]=setTimeout(function(){g(e,t)},n))}var u={},p={},l={},g=function(e,t){var n,r;clearTimeout(l[e]),l[e]=!1,u[e]&&u[e].length&&(n=p[e],r=3===e?"1//"+u[e].length+n:"",r+=u[e].join(n),u[e]=[],y(e,t,r))};s.flushNow=function(){for(var e in u)g(e)};function v(e,t){return _(e)+"`"+_(t)}function b(e){var n=[];return f.each(e,function(e){var t=e.split("x");2==t.length&&n.push(v(t[0],t[1]))}),n.join(".")}var y=function(e,t,n){var r=s.id,i=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),o=f.vp(),a="https://adspsp.com/pt/"+d.getId()+"/"+e+"/"+t+"/?a="+r+"&aa="+c+"&b="+n+"&e="+i+"&c="+encodeURIComponent(f.url().href)+"&d="+encodeURIComponent(f.url().referrer)+"&f="+f.pgts().join(".")+"&g="+f.perfts()+"&u=f5b340a3:kcz7ycsf&v="+_(o.w)+"."+_(o.h)+"."+_(o.y)+"."+_(document.body.clientHeight),a=d.deca(a);for(f.each(w,function(e,t){f.isarr(e)||(e=[e]),f.each(e,function(e){a+="&"+t+"="+encodeURIComponent(e)})});A.length;)delete w[A.pop()];f.each(S,function(e,t){a+="&"+t+"="+encodeURIComponent(e)}),S={},f.pixel(a,!0)},_=function(e){return(parseInt(e,10)||0).toString(36)},x=function(e){return 61<e?x(e/62|0)+x(e%62):35<e?String.fromCharCode(e+29):9<e?String.fromCharCode(e+87):-1<e?e+"":e<0?"-"+x(-e):"NaN"},w={};s.meta=f.thread(function(e,t){w[e]=t});var A=[];s.metaqx=f.thread(function(e,t){-1==A.indexOf(e)&&A.push(e),w[e]?f.isarr(w[e])||(w[e]=[w[e]]):w[e]=[],w[e].push(t)});var S={};s.ctr=f.thread(function(e,t){void 0===t&&(t=1),t&&(S[e]=(S[e]||0)+t)}),s.auctionConfigured=f.thread(function(e){var n=[];e.eachUnit(function(e){var i=[],t=b(e.all_sizes);e.eachBidReqConf(function(e){var t,n=e.bidder_id+"@"+(t=e.bidder_unit_id,String(t).replace(/[^\d\w-]/,"")),r=b(e.all_sizes);i.push(n+"^"+r)}),n.push(e.id+"^"+t+":"+i.join(","))});var t=e.instancectr+"//"+n.length+"-"+n.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),y(1,1,t)});function I(e,t){var n,r,i=e.fromPool&&e.fromPool!==e.config.unit.unique_id?t.id(e.fromPool):"";i?(n=(f.dts()-e.ts)/1e3,r=0|Math.max(0,e.extras.ttl-n),i+="@"+x(r)):i=x(0|e.ms);var o,a,s,d,c,u,p,l,g=[i];return(e._bid_cpm||e.extras.dealid)&&(o=t.id(e.width+"x"+e.height),a=x(e.extras.ttl),s=m[e.extras.cur]||(e.extras.cur?t.id(e.extras.cur):""),d=e.extras.nr?1:0,c=h[e.extras.mediaType]||0,u=e.extras.crid!==e.config.id?t.id(e.extras.crid):"",p=e.extras.dealid?t.id(e.extras.dealid):"",l=e.cpm,g=g.concat([o,a,s,d,c,u,p,l]),e._bid_cpm!=e.cpm&&(g.push(e._bid_cpm),g.push(e._min_cpm),e.blocked&&g.push(t.id(e.blocked)))),g.join(",")}function z(){this.reset()}z.prototype.reset=function(){this.ids={},this.data=[],this.length=0},z.prototype.id=function(e){var t;return e=String(e),this.ids[e]||(t=encodeURIComponent(e),this.length+=t.length,this.ids[e]=x(this.data.push(t)-1)),this.ids[e]},s.auctionCompleted=f.thread(function(t){var s=new z,n=[],r=0;t.eachUnit(function(o){var e=[s.id(t.instancectr),s.id(t.id),s.id(o.id),s.id(o.unique_id)].join(","),a=[];o.eachBidReqConf(!1,function(e){var i=s.id(e.bidder_id)+","+s.id(e.bidder_unit_id);e.responses.length?f.each(e.responses,function(e){var t=o.getWinner()===e?1:"",n=i,r=I(e,s);r&&(n+=","+t+","+r),a.push(n)}):a.push(i)}),encoded_unit=e+":"+a.join(":"),r+=encoded_unit.length,n.push(encoded_unit),3e3<r+s.length&&(y(11,2,n.join("&b=")+"&bi="+s.data.join(",")),s.reset(),n=[],r=0)}),r&&y(11,2,n.join("&b=")+"&bi="+s.data.join(","))}),s.bidRendered=f.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var n=JSON.stringify(e.extras);"{}"!=n&&t.push(encodeURIComponent(n));var r="1:"+t.join(",");d.libSettings().record_bidids&&(r+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(",")),a(12,1,100,"&b=",r)}),s.enhRendered=f.thread(function(e,t,n){var r=[e,t,_(n.advertiserId),_(n.campaignId),_(n.creativeId),_(n.versionId)];a(12,1,100,"&b=","3:"+r.join(","))}),s.gptRendered=f.thread(function(e,t,n){a(12,1,100,"&b=","2:"+[e.instancectr,t.id,_(n.advertiserId),_(n.campaignId),_(n.creativeId),n.isEmpty||"",_(n.lineItemId),n.size?v(n.size[0],n.size[1]):"",_(n.sourceAgnosticCreativeId),_(n.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=f.thread(function(e,t,n){a(15,1,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=f.thread(function(e){a(16,1,100,"&b=","1:"+JSON.stringify(e))});var T,j,k=new z,C={},R=function(){var e,r,i;clearTimeout(T),T=!1,j?T=setTimeout(R,100):(e=C,C={},j=k,k=new z,r=[],i=0,f.each(e,function(e,t){var n=t+":"+e.join(":");i+=n.length,r.push(n),3e3<i+j.length&&(y(13,2,r.join("&b=")+"&bi="+j.data.join(",")),r=[],i=0)}),i&&y(13,2,r.join("&b=")+"&bi="+j.data.join(",")),j=!1)};s.lateBid=f.thread(function(e){var t=[k.id(e.config.unit.auction.instancectr),k.id(e.config.unit.auction.id),k.id(e.config.unit.id),k.id(e.config.unit.unique_id)].join(","),n=[k.id(e.config.bidder_id),k.id(e.config.bidder_unit_id),"",I(e,k)].join(",");C[t]||(C[t]=[]),C[t].push(n),T=T||setTimeout(R,500)}),f.onerr(function(){try{var t="";f.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+f.perfts()+":"+t,a(3,1,1e3,"&e=",t)}catch(e){f.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=f.thread(function(e){a(17,1,500,"&b=",e)}),f.onrec(s.rec)},{"./config.js":12,"./utils.js":23}],11:[function(e,t,n){var m=e("./utils"),h=(e("./unit"),e("./analytics")),v=e("./modules"),b=e("./config"),y=0;t.exports=function(){var r,i;this.instancectr=++y,this.id=m.genID("A"),this.uuid=m.genUUID(),this.ts=0,this.jsts=0,this.jstsend,this.max_ms,b.afterConsent(function(e,t){r=e,i=t}),this.ajax_ms=b.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var d,o=this,a={},s=[],c=[],u=[],p=!1,l=[],g=!1;this.addUnit=function(e){return c.push(e),u.push(e.alias),e.auction=o,e.eachBidder(function(e,t){!t.uspSupport&&i&&"Y"===i.uspString[2]||a[e]||(a[e]=t,.5<Math.random()?s.push(e):s.unshift(e))}),o.max_ms=o.max_ms?Math.min(o.max_ms,e.max_ms):e.max_ms,(!o.ajax_ms||o.ajax_ms<o.max_ms)&&(o.ajax_ms=o.max_ms+200),o},this.hasUnit=function(){return 0<c.length},this.eachUnit=function(e){m.each(c,e)},this.findUnit=function(e){for(var t=0;t<c.length;++t){if(e(c[t]))return c[t]}return!1},this.eachBidRequest=function(e,n){"function"==typeof e&&(n=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){n(t,e)})})},this.getUnitByBidReqId=function(t){var n=!1;return o.eachUnit(function(e){e.getBidReqConf(t)&&(n=e)}),n},this.getBidRequest=function(t){var n=!1;return o.eachUnit(function(e){n=n||e.getBidReqConf(t)}),n},this.markBidEmpty=function(e){var t=o.getUnitByBidReqId(e);t?t.addEmptyBid(e):m.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){o.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return p},this.lock=function(e){-1==l.indexOf(e)&&(m.log("Auction ",o.id," locked: ",e),l.push(e))},this.unlock=m.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),m.log("Auction ",o.id," unlocked: ",e,l),!l.length&&g&&g()):m.log("Auction ",o.id," lock not found: ",e)}),this.execute=function(e){o.ts=m.dts(),o.jsts=(new Date).getTime();var t=b.libSettings().fbo;"function"==typeof t&&(s=t(a)),d="started",v.trigger("auction.before_bids",o),m.log("Auction",o.id,"starting with",c.length,"units:",u,"/ bidders:",s,"/ timeout:",o.max_ms),d="inProgress",h.auctionConfigured(o),v.trigger("auction.start",o);var n=m.wrapAsync(function(){p||(p=!0,v.trigger("auction.bidding_done",o),o.eachUnit(function(e){e.halt()}),d="completed",o.jstsend=(new Date).getTime(),h.auctionCompleted(o),v.trigger("auction.complete",o),e(o))}),r=m.wrapAsync(function(){return l.length?(m.log("Auction ",o.id,"waiting on locks",l),void(g=n)):void n()}),i=0;o.eachUnit(function(e){e.onReady(m.wrapAsync(function(){p||++i>=c.length&&(m.log("Auction ",o.id," received bids for ",i," / ",c.length," units. Duration: ",m.dts()-o.ts,"ms"),r())}))}),m.each(s,function(e){var t=a[e];m.thread(function(){t.execute(o)})()}),setTimeout(function(){p||(m.log("Auction ",o.id," timing out with ",i," / ",c.length," units completed. Duration: ",m.dts()-o.ts,"ms"),r())},o.max_ms)};var t=[],f={};this.getBdrReqId=function(e){return t[e]||(t[e]=m.genID("R")),t[e]},this.toPrebidBidderReq=function(e){var n,t;return f[e]||(a[e],n=[],this.eachBidRequest(e,function(e,t){n.push(t.toPrebid())}),t={referer:m.url().href,stack:[m.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)},f[e]={auctionId:this.uuid,auctionStart:this.jsts,bidderCode:e,bidderRequestId:this.getBdrReqId(e),bids:n,gdprConsent:r,uspConsent:(i||{}).uspString,timeout:this.max_ms,refererInfo:t}),f[e]},this.toPrebidBidderReqs=function(){var n=[];return m.each(a,function(e,t){n.push(this.toPrebidBidderReq(t))}.bind(this)),m.log("Prebid bidder reqs built",n),n},this.toPrebid=function(){var e=this.toPrebidBidderReqs(),r=[],i=[],o=[],a=[],s=[];return this.eachUnit(function(e){var t=e.toPrebidAdUnit();r.push(t),i.push(t.code);var n=e.toPrebidResults();o=o.concat(n.noBids),a=a.concat(n.bidsReceived),s=s.concat(n.winningBids)}.bind(this)),{auctionId:this.uuid,timestamp:this.jsts,auctionEnd:this.jstsend,auctionStatus:d,adUnits:r,adUnitCodes:i,labels:void 0,bidderRequests:e,noBids:o,bidsReceived:a,winningBids:s,timeout:this.max_ms}}}},{"./analytics":10,"./config":12,"./modules":15,"./unit":22,"./utils":23}],12:[function(t,e,n){function d(e,t,n){var r=t.mapping_rules;if(r){var i=e.get("gpt_slot"),o=i.getAdUnitPath(),a=e.get("gpt_sizes"),s=e.get("dom_id"),d=e.get("dom_ad_class");for(var c in r){if(!r.hasOwnProperty(c))return;var u=r[c],p=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==c&&u<p)return;if("vp.min_width"==c&&p<u)return;if("lib"==c.substr(0,3)){var l=n[c.substr(4)];if(("function"==typeof l&&l(i,o,a,s))!=u)return}if("gpt.adunit"==c&&u!=o)return;if("gpt.adunit_regex"==c&&!new RegExp(u,"i").test(o))return;if("gpt.domid"==c&&u!=s)return;if("gpt.domid_regex"==c&&!new RegExp(u,"i").test(s))return;if("gpt.has_size"==c&&!a.match(u))return;if("gpt.no_size"==c&&a.match(u))return;if("adb.ad_class"==c&&u!=d)return;if("adb.ad_class_regex"==c&&!new RegExp(u,"i").test(d))return}return g.log("Unit mapped: ",s,"->",t.alias),1}}function c(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}var g=t("./utils"),u=(t("./ajax"),{c:2418030,s:{track_imps:!0,bid_strategy:".05:.2-.3,.01:.3-1.2,.05:1.2-5.5,.01:5.5-5.7,.05:5.7-6.35,.01:6.35-6.6,.05:6.6-6.85,.01:6.85-7.05,.05:7.05-7.35,.01:7.35-7.55,.05:7.55-9,.1:9-10.5,.5:10.5-21,1:21-35,.25:35-37,1:37-40,.5:40-44,2:44-50",usp:{image:!0,iframe:!1,delay:3e3},initfn:function(){var e=document.createElement("script");e.async=!0,e.src="https://js-sec.indexww.com/ht/p/180447-192872210293780.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},new_tl_test:function(e){return!g.qs("adb_tl_new_only")&&e},cmp:"iab",cmp_check_interval:100,cmp_check_max:20,gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,ajax_ms:1100,before_gpt:function(){g.qs("no_sandbox")||(g.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}))},nodbkeys:!0},u:{25:[25,"MNT_Desktop_300x250_1","300x250",["300x600"],.2,1500,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"1135706",{position:"atf"},0],[4,"540601974",0,0],[5,"14538255",0,0],[10,"323129",{size:"300x250"},0],[10,"323129",{size:"300x600"},0],[18,"MedicalNewsToday_Desktop_DMR1_MREC_AB",0,0],[114,"5043325",{size:"300x250"},0],[114,"5043343",{size:"300x600"},0],[116,"482160476",0,0],[174,"MedicalNewsToday_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}]]],26:[26,"MNT_Desktop_300x250_2","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"1135708",0,0],[4,"540601975",0,0],[5,"14538341",0,0],[10,"323130",{size:"300x250"},0],[114,"5043328",{size:"300x250"},0],[116,"265177797",0,0],[174,"MedicalNewsToday_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],27:[27,"MNT_Desktop_300x250_3","300x250",["300x600"],.2,1500,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"1135710",0,0],[4,"540601976",0,0],[5,"14538372",0,0],[10,"323131",{size:"300x250"},0],[10,"323131",{size:"300x600"},0],[114,"5043337",{size:"300x250"},0],[114,"5043344",{size:"300x600"},0],[116,"157131625",0,0],[174,"MedicalNewsToday_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],28:[28,"MNT_Desktop_300x250_4","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"1135712",0,0],[4,"540601977",0,0],[5,"14538406",0,0],[10,"323132",{size:"300x250"},0],[114,"5043334",{size:"300x250"},0],[116,"171862636",0,0],[174,"MedicalNewsToday_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],29:[29,"MNT_Desktop_300x250_5","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"1135714",0,0],[4,"540601978",0,0],[5,"14538439",0,0],[10,"323136",{size:"300x250"},0],[114,"5043338",{size:"300x250"},0],[116,"662144784",0,0],[174,"MedicalNewsToday_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],30:[30,"MNT_Desktop_300x250_6","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"1135716",0,0],[4,"540601979",0,0],[5,"14538529",0,0],[10,"323138",{size:"300x250"},0],[114,"5043339",{size:"300x250"},0],[116,"753865295",0,0],[174,"MedicalNewsToday_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}]]],31:[31,"MNT_Desktop_300x250_7","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"1135718",0,0],[4,"540601980",0,0],[5,"14538556",0,0],[10,"323135",{size:"300x250"},0],[114,"5043335",{size:"300x250"},0],[116,"661335883",0,0],[174,"MedicalNewsToday_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}]]],32:[32,"MNT_Desktop_300x250_8","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"1135720",0,0],[4,"540601981",0,0],[5,"14538725",0,0],[10,"323147",{size:"300x250"},0],[114,"5043336",{size:"300x250"},0],[116,"537318873",0,0],[174,"MedicalNewsToday_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}]]],33:[33,"MNT_Desktop_300x250_9","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"1135722",0,0],[4,"540601982",0,0],[5,"14538763",0,0],[10,"323150",{size:"300x250"},0],[114,"5043341",{size:"300x250"},0],[116,"787285489",0,0],[174,"MedicalNewsToday_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}]]],34:[34,"MNT_Desktop_300x250_10","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"1135724",0,0],[4,"540601983",0,0],[5,"14538803",0,0],[10,"323153",{size:"300x250"},0],[114,"5043342",{size:"300x250"},0],[116,"136586158",0,0],[174,"MedicalNewsToday_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}]]],35:[35,"MNT_Desktop_300x250_11","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR11$"},[[2,"1135726",0,0],[4,"540601984",0,0],[5,"14538836",0,0],[10,"323155",{size:"300x250"},0],[114,"5043330",{size:"300x250"},0],[116,"168330849",0,0],[174,"MedicalNewsToday_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}]]],36:[36,"MNT_Desktop_300x250_12","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR12$"},[[2,"1135728",0,0],[4,"540601985",0,0],[5,"14538927",0,0],[10,"323158",{size:"300x250"},0],[114,"5043329",{size:"300x250"},0],[116,"821682258",0,0],[174,"MedicalNewsToday_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}]]],37:[37,"MNT_Desktop_300x250_13","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR13$"},[[2,"1135730",0,0],[4,"540601986",0,0],[5,"14538964",0,0],[10,"323199",{size:"300x250"},0],[114,"5043326",{size:"300x250"},0],[116,"678963628",0,0],[174,"MedicalNewsToday_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}]]],38:[38,"MNT_Desktop_300x250_14","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR14$"},[[2,"1135732",0,0],[4,"540601987",0,0],[5,"14538996",0,0],[10,"323160",{size:"300x250"},0],[114,"5043340",{size:"300x250"},0],[116,"537717616",0,0],[174,"MedicalNewsToday_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}]]],39:[39,"MNT_Desktop_300x250_15","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR15$"},[[2,"1135734",0,0],[4,"540601988",0,0],[5,"14539029",0,0],[10,"323163",{size:"300x250"},0],[114,"5043333",{size:"300x250"},0],[116,"571841601",0,0],[174,"MedicalNewsToday_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}]]],40:[40,"MNT_Desktop_728x90_1","728x90",["970x90"],.2,1500,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"1135736",{position:"atf"},0],[4,"540601989",0,0],[5,"14537842",0,0],[10,"323178",{size:"728x90"},0],[10,"323178",{size:"970x90"},0],[18,"MedicalNewsToday_Desktop_DLB1_728x90_AB",0,0],[114,"5043323",{size:"970x90"},0],[114,"5043324",{size:"728x90"},0],[116,"814147833",0,0],[174,"MedicalNewsToday_Desktop_DLB1_728x90",0,function(e,t){return t.new_tl_test(e)}]]],41:[41,"MNT_Desktop_728x90_2","728x90",[],.2,1500,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"1135738",0,0],[4,"540601990",0,0],[5,"14538051",0,0],[10,"323188",{size:"728x90"},0],[18,"MedicalNewsToday_Desktop_DLB2_728x90_AB",0,0],[114,"5043331",{size:"728x90"},0],[116,"275526781",0,0],[174,"MedicalNewsToday_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],42:[42,"MNT_Desktop_728x90_3","728x90",[],.2,1500,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"1135740",0,0],[4,"540601991",0,0],[5,"14538122",0,0],[10,"323195",{size:"728x90"},0],[18,"MedicalNewsToday_Desktop_DLB3_728x90_AB",0,0],[114,"5043327",{size:"728x90"},0],[116,"679392274",0,0],[174,"MedicalNewsToday_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],43:[43,"MNT_Desktop_728x90_4","728x90",[],.2,1500,0,0,{"gpt.adunit_regex":"DLB4$"},[[2,"1135742",0,0],[4,"540601992",0,0],[5,"14538176",0,0],[10,"323189",{size:"728x90"},0],[114,"5043332",{size:"728x90"},0],[116,"679392274",0,0],[174,"new BRC",0,function(e,t){return t.new_tl_test(e)}]]],44:[44,"MNT_Mobile_320x50","320x50",[],.2,1500,0,0,{"gpt.adunit_regex":"MLB1$"},[[2,"1135744",{position:"atf"},0],[4,"540601993",0,0],[5,"14539128",0,0],[10,"323204",{size:"320x50"},0],[114,"5043347",{size:"320x50"},0],[116,"917839699",0,0],[174,"MedicalNewsToday_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}]]],45:[45,"MNT_Mobile_300x250_1","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"1135746",{position:"atf"},0],[4,"540601994",0,0],[5,"14539184",0,0],[10,"323205",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR1_300x250_AB",0,0],[114,"5043349",{size:"300x250"},0],[116,"339384118",0,0],[174,"MedicalNewsToday_Mobile_MMR1 _300x250",0,function(e,t){return t.new_tl_test(e)}]]],46:[46,"MNT_Mobile_300x250_2","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"1135748",0,0],[4,"540601995",0,0],[5,"14539202",0,0],[10,"323206",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR2_300x250_AB",0,0],[114,"5043348",{size:"300x250"},0],[116,"189578804",0,0],[174,"MedicalNewsToday_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],47:[47,"MNT_Mobile_300x250_3","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"1135750",0,0],[4,"540601996",0,0],[5,"14539248",0,0],[10,"323207",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR3_300x250_AB",0,0],[114,"5043345",{size:"300x250"},0],[116,"416732783",0,0],[174,"MedicalNewsToday_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],48:[48,"MNT_Mobile_300x250_4","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"1135752",0,0],[4,"540601997",0,0],[5,"14539270",0,0],[10,"323208",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR4_300x250_AB",0,0],[114,"5043346",{size:"300x250"},0],[116,"579762571",0,0],[174,"MedicalNewsToday_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],49:[49,"MNT_Mobile_300x250_5","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"1135754",0,0],[4,"540601998",0,0],[5,"14539307",0,0],[10,"323209",{size:"300x250"},0],[18,"MedicalNewsToday_Mobile_MMR5_300x250_AB",0,0],[114,"5043350",{size:"300x250"},0],[116,"823314966",0,0],[174,"MedicalNewsToday_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]]}}),p={},l={},r={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return g.logl("g","Global read: ",e,r[e]),r[e];r[e]=t,g.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"v3.26.0-pre"},u.s.preconfigure_init&&g.wrapAsync(u.s.preconfigure_init)(u.s),n.getId=function(){return u.c},n.libSettings=function(){return u.s},n.kvp=function(e){var t=u.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},n.proc=function(e){u.s.pub=u.s.pub||{},g.each(e,function(e,t){u.s.pub[t]=e}),g.log("Publisher config update: ",JSON.stringify(u.s.pub)),t("./modules.js").trigger("pub.config",u.s.pub)},n.deca=function(e){if(u.s.alter_adb_pixel)try{e=u.s.alter_adb_pixel(e)}catch(e){g.err("Alter adb fail",e)}return e};n.configureUnit=function(e,t){var n=!1,r=[];for(var i in u.u)if(u.u.hasOwnProperty(i)){var o=c(0,u.u[i]);if(u.s.dynamic_configuration)try{var a=u.s.dynamic_configuration(o,u.s,e);if("object"!=typeof a&&!1!==a||(o=a),!o)continue}catch(e){g.err("Failed dynamic configuration",e)}if(t){if(t!==o.id)continue;n=o;break}if(o.rule_order)r[o.rule_order]=o;else if(d(e,o,u.s)){n=o;break}}if(!n&&r.length)for(var s=0;s<r.length;++s)if(r[s]&&d(e,r[s],u.s)){n=r[s];break}n&&(e.configure(n),function(e,t){if(t.bid_req_confs&&t.bid_req_confs.length)for(var n,r=0;r<t.bid_req_confs.length;++r){var i=t.bid_req_confs[r],o={bidder_id:(n=i)[0],bidder_unit_id:n[1],settings:n[2]||{},mutate:n[3]||!1};0;var a=l[String(o.bidder_id)];g.qsab(a,o.bidder_id)&&(e.addBidder(a,p[a]),e.addBidReqConf(a,o,u.s))}}(e,n))},n.units=function(n){g.each(u.u,function(e,t){n(c(0,e))})};var i=u.s.usp;"function"==typeof i&&(i=i()),i&&g.cfusp(i.image,i.iframe,i.delay),n.afterConsent=t("./consent.js")(u);function o(r,i,o){n.afterConsent(function(e){return e&&e.gdprApplies&&!e.consentString?g.log("GDPR skip register",r,e):void(p[r]?g.err("Duplicate bidder alias "+r):(t={bidder_id:(n=o)[0],settings:n[1]||{},mutate:n[2]||!1},p[r]=new i(r,t.bidder_id,t.settings,e,a),p[r].alias=r,p[r].id=t.bidder_id,p[r].settings=t.settings,p[r].mutate=t.mutate||!1,l[String(t.bidder_id)]=r));var t,n})}var a=t("./modules.js");a.setup(n);var s=t("./adapters/triplelift_direct.js"),f=t("./adapters/medianet.js"),m=t("./adapters/aol.js"),h=t("./adapters/triplelift.js"),v=t("./adapters/index.js"),b=t("./adapters/appnexusast.js"),y=t("./adapters/openx.js");o("rubicon",t("./adapters/rubicon.js"),[2,{accountId:11314,siteId:229330},function(e,t){try{e.params=e.params||{},e.params.inventory={k1:(t.pub&&t.pub.k1||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k1||"").replace(/'/g,""),k2:(t.pub&&t.pub.k2||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k2||"").replace(/'/g,"")},g.log("Rubicon KVP",e.params.inventory)}catch(e){g.err("MNT Rubicon K1 fail",e)}return e}]),o("openx",y,[4,{delDomain:"healthline-d.openx.net"},0]),o("appnexus",b,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:t.pub&&t.pub.k1||"",k2:t.pub&&t.pub.k2||""},e}]),o("ix",v,[10,0,0]),o("triplelift",h,[18,0,0]),o("onedisplay",m,[114,{network:"9502.1"},function(e,t){return-1<["US","CA","AU"].indexOf(t.pub.cc.toUpperCase())&&e}]),o("medianet",f,[116,{cid:"8CUPK277N"},function(e,t){return-1<["US","GB","UK","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),o("tpl_direct",s,[174,{check_gdpr:!0},0])},{"./adapters/aol.js":1,"./adapters/appnexusast.js":2,"./adapters/index.js":3,"./adapters/medianet.js":4,"./adapters/openx.js":5,"./adapters/rubicon.js":6,"./adapters/triplelift.js":7,"./adapters/triplelift_direct.js":8,"./ajax":9,"./consent.js":13,"./modules.js":15,"./utils":23}],13:[function(r,e,t){var i,o=r("./utils.js");e.exports=o.wrapAsync(function(e){return i=e,function(e){A(e)}});function a(e,t){m+=e,t&&(m+=t)}function n(){if(y&&_)for(;w.length;){var e=w.shift();S(e)}}function s(){T||(T=!0,o.log("Consent: removing action configurations."),i.u=[],a("N"))}function d(){googletag&&googletag.cmd&&!j&&(j=!0,o.log("Consent: set GPT setRequestNonPersonalizedAds(1)."),a("L"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)}))}function c(){googletag&&googletag.cmd&&!k&&(k=!0,o.log('Consent: set GPT setPrivacySettings({ "restrictDataProcessing": true }).'),a("M"),googletag.cmd.push(function(){googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}var u,p,l,g,f,m="",h={iab:"A",conversant:"B"},v={geoblock:"C",geoblockbids:"D",geocmp:"E"},b="AT,BE,BG,CR,CY,CZ,DK,EE,FI,FR,DE,GR,HU,IE,IT,LV,LI,LU,MT,NL,PL,PT,RO,SK,SI,SP,SE,GB,NO,IS,LI,GI,AX,GF,GP,MQ,YT,RE,MF,FK,CH,AD,MC,SM,VA,",y=!1,_=!1,x=!1,w=[],A=o.wrapAsync(function(e){"function"==typeof e?(e=o.wrapAsync(e),y&&_?S(e):(w.push(e),x||(x=!0,C(),D()))):o.err("Consent: invalid cb",e)}),S=function(e){e(u,p,m)},I=o.wrapAsync(function(e){o.log("Consent: done gathering GDPR consent",e),u=e,y=!0,a("u"),n()}),z=o.wrapAsync(function(e){o.log("Consent: done gathering USP consent",e),p=e,_=!0,a("h"),n()}),T=!1,j=!1,k=!1,C=function(){var e=i.s.cmp;"function"==typeof e?(a("t"),e(i.s,o.wrapAsync(function(e){R(e)}))):R(e)},R=o.wrapAsync(function(n){return n?"pubblock"===n?(o.log("Consent: gdpr: pubblock"),a("F"),s(),d(),void I({gdprApplies:!0,consentString:""})):"iab"===n||"conversant"===n?(a(h[n]),void B(n)):"geoblock"===n||"geoblockbids"===n||"geocmp"===n?(a(v[n]),void P(function(e){if(-1===b.indexOf(e.slice(0,2)))return o.log("Consent: gdpr: not in EU:",e),a("y"),void I({gdprApplies:!1,consentString:""});if("geocmp"===n){var t=i.s.cmp_for_geo;return o.log("Consent: gdpr: in EU, checking cmp:",t),a("x"),void setTimeout(function(){R(t)},0)}if("geoblock"===n)return a("v"),o.rec("GDPRBlockAll"),void o.log("Consent: gdpr: in EU, disabling ads");a("w"),o.log("Consent: gdpr: geoblockbids - preventing auctions and continuing to GAM"),s(),d(),I({gdprApplies:!0,consentString:""})})):(a("z"),o.err("Consent: unrecognized cmp value",n),void I()):(a("G"),void I())}),E=0,B=o.wrapAsync(function(){if("function"!=typeof window.__cmp){var e=i.s.cmp_check_interval,t=i.s.cmp_check_max;if(e&&E<t)return 0===E&&(a("p"),o.log("Consent: gdpr: cmp not found yet - checking every ",e,"ms; max ",t,"intervals")),E+=1,void setTimeout(B,e);var n=i.s.cmp_fallback;return n?(o.log("Consent: gdpr: fallback to",n),a("o"),void setTimeout(function(){R(n)},0)):(a("n"),void o.log("Consent: gdpr: CMP object not found, preventing further execution."))}o.log("Consent: gdpr: calling CMP"),a("q"),window.__cmp("getVendorConsents",null,o.wrapAsync(function(e){var t,n,r;o.log("Consent: gdpr: CMP result",e),e?(t=e.metadata||e.consentData,n=e.vendorConsents,r=e.gdprApplies,a("s")):a("r"),I({consentString:t,vendorData:n,gdprApplies:r})}))}),D=function(){var e=i.s.ccpa;if("optout"===e)return o.log("Consent: ccpa: opting out all users"),a("l"),void z({version:1,uspString:M()});if(0!==(e||"").indexOf("geoblock,")){if(!e&&window.__uspapi&&(e="iab",a("k")),!e)return o.log("Consent: ccpa: no strategy defined, continuing as normal"),a("m"),void z();if("iab"===e)return a("j"),void U();o.log("Consent: ccpa: unknown strategy, continuing as normal; strategy=",e),a("i"),z()}else{var t=e.split(",").slice(1);P(function(e){-1!==t.indexOf(e)?(o.log("Consent: ccpa: opting out ",t," users"),a("O"),z({version:1,uspString:M()})):(o.log("Consent: ccpa: region OK",e),a("T"),z({version:1,uspString:"1---"}))})}},M=function(){var e=i.s.ccpa_signatory||"N";return"1"+(i.s.ccpa_button||"N")+"Y"+e},O=0,U=o.wrapAsync(function(){var n=i.s.usp_check_interval||500,r=i.s.usp_check_max||30;if(!window.__uspapi)return n&&O<r?(0===O&&(o.log("Consent: usp: __uspapi not found yet - checking every ",n,"ms; max ",r,"intervals"),a("b")),O+=1,void setTimeout(U,n)):(o.log("Consent: usp: __uspapi not found, preventing further execution."),void a("a"));0===O&&a("c"),window.__uspapi("getUSPData",1,o.wrapAsync(function(e,t){return o.log("Consent: usp: result",e,t),t||e&&e.uspString?(e&&e.uspString?(a("g"),"Y"===e.uspString.substr(2,1)&&c()):a("d"),void z(e)):n&&O<r?(0===O&&(o.log("Consent: usp: result empty, re-checking in ",n,"ms"),a("e")),O+=1,void setTimeout(U,n)):(o.log("Consent: usp: __uspapi returned invalid, defaulting to Opt Out"),a("f"),c(),void z({version:1,uspString:M()}))}))}),P=(f=[],function(e){var t,n;"function"==typeof e?(e=o.wrapAsync(e),l||(t=o.cr("adbrgn"))&&(o.log("Consent: region cookie found",t),a("S"),l=t),l?e(l):(f.push(e),g||(o.log("Consent: geo region requested"),n=function(){for(;f.length;)f.shift()(l)},g=!0,r("./ajax.js")({url:"https://geo.adspsp.com",withCredentials:!1,parseResponseJson:!1},o.wrapAsync(function(e,t){return e?(o.err("geo/region",e),i.s.cmp_allow_geofail?(l="????",o.log("Consent: error getting region, continuing"),a("P"),void n()):(o.log("Consent: region check failed; preventing further action"),void a("Q"))):(l=t,o.log("Consent: region check result",l),o.cw("adbrgn",l),o.log("Consent: cached region",l),a("R"),void n())}))))):o.err("Consent: bad region cb",e)})},{"./ajax.js":9,"./utils.js":23}],14:[function(e,t,n){if(window.AdBridg=window.AdBridg||{cmd:[]},window.googletag=window.googletag||{cmd:[]},AdBridg.gpt=window.googletag,!(AdBridg.exists||window.googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var r,s,d,x=e("../utils.js"),m=e("../unit.js"),u=e("../auction.js"),w=e("../config.js"),A=e("../analytics.js"),S=e("../modules.js");if(!x.qs("adb_off")){if(r=x.vp(),/headless/i.test(navigator.userAgent)||0===r.w||0===r.h)return x.log("headless browser detected; shutting down"),void x.rec("headless");d={enableSingleRequest:fe,disableInitialLoad:fe,addEventListener:(s={add:function(e,t){s[e]=(s[e]||[]).concat(t)},remove:function(e,t){s[e]=(s[e]||[]).filter(function(e){return e!==t})},trigger:function(){var t=[].slice.apply(arguments),e=t.shift();(s[e]||[]).forEach(function(e){e.apply(0,t)})}}).add,removeEventListener:s.remove,safeFrameConfig:!1,setSafeFrameConfig:function(e){d.safeFrameConfig=e},targeting:{},setTargeting:function(e,t){d.targeting[e]=t},refresh:function(e){e.forEach(function(e){var n=document.createElement("iframe"),t=document.getElementById(e.getSlotElementId()),r=!d.safeFrameConfig||e.getTargeting("unsafe")[0];n.height=e.sizes[0][1],n.width=e.sizes[0][0],n.border="0px",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no";var i,o={slot:e,advertiserId:0,campaignId:0,creativeId:0,isEmpty:!(n.frameBorder="0"),lineItemId:0,size:null,sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0},a=e.getTargeting(w.kvp("adb_adid"))[0];r?n.src="about:blank":(d.safeFrameConfig&&d.safeFrameConfig.sandbox&&(n.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),n.src="https://prod.adspsp.com/iframe.html"),t.innerHTML="",t.appendChild(n),a?(n.contentDocument.open(),n.contentDocument.write(r?'<script>try { top.AdBridg.render(document, "'+a+'") } catch(e) {}<\/script>':'<html><head><script type="text/javascript" src="https://prod.adspsp.com/adbpmc2.js"><\/script><script type="text/javascript">AdBridgServe("'+location.href+'", "'+a+'");<\/script></head><body></body></html>'),s.trigger("slotRenderEnded",o)):"function"==typeof(i=w.libSettings().getHouseAd)?i(e,function(e,t){n.contentDocument.open(),n.contentDocument.write(e),o.isEmpty=!1,s.trigger("slotRenderEnded",x.assign(o,t))}):(x.log(e.getAdUnitPath(),"nothing to render"),o.isEmpty=!0,s.trigger("slotRenderEnded",o))})}},AdBridg.gptStub={cmd:{push:function(e){e()}},pubads:function(){return d},defineSlot:function(e,t,n){var r={sizes:t,targeting:{},addService:fe,getSlotElementId:function(){return n},getAdUnitPath:function(){return e},setTargeting:function(e,t){r.targeting[e]=t},getTargeting:function(e){return[].concat(r.targeting[e],d.targeting[e]).filter(Boolean)},getTargetingMap:fe};return r},enableServices:fe,display:fe},("function"==typeof w.libSettings().nogpt&&w.libSettings().nogpt()||x.qs("adb_nogpt"))&&(x.log("Disabling GPT"),AdBridg.gpt=AdBridg.gptStub);var i=!1,o=[],c=!1,p=[],a=!1,h=[],l=[],v={},I={},b={},y={},g=!1,f=[],_=[],z={},T=[],j="Workflow |",k=!0,C=w.libSettings().sra_if;(C&&!C()||w.libSettings().no_sra)&&(k=!1);function R(e){var t,n,r=w.libSettings().gpt_clear_kvps,i=[],o=e.getTargetingMap(),a=!1;for(n in o)o.hasOwnProperty(n)&&("adb_"===n.substr(0,4)||r&&0<=r.indexOf(n)?a=!0:i.push([n,o[n]]));if(a)for(e.clearTargeting(),t=0;t<i.length;++t)e.setTargeting(i[t][0],i[t][1]);U(e)}function E(e,t){var n=w.libSettings().gpt_exclusions;if(n){var r=[];for(var i in n){var o=n[i];("function"==typeof o&&o(e,t)||o<=t)&&(e.setCategoryExclusion(i),r.push(i))}r.length&&x.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",r)}}function B(t,n,a){return x.wrapAsync(function(o){ce("ra",function(){var i=[];o.eachUnit(function(t){if(o===c){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=w.libSettings().post_auc_ufilter;if(e){var n=e(t,a);if(n)return void x.log("Ignoring",t.alias,t.get("dom_id"),n)}}catch(e){x.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return x.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void x.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();var r=t.getWinner();r&&r.config.unit.setImpData("adb_mtype",r.extras.mediaType),function(e){var t=w.libSettings().bid_strategy,n=e.getWinner(),r=e.get("gpt_slot");R(r),S.trigger("gpt.set_targeting",e,r);var i,o=e.get("adb_imp_data");if(o&&(i=r.getTargeting("adb_imp")||[],x.isarr(i)||(i=[i]),x.each(o,function(e){e&&-1===i.indexOf(e)&&i.push(e)}),i.length&&r.setTargeting(w.kvp("adb_imp"),i)),w.libSettings().track_alias&&r.setTargeting(w.kvp("adb_cfg"),e.alias),!n)return r.setTargeting(w.kvp("adb_bdr"),["none"]),E(r,-1),S.trigger("gpt.no_hbc",e,r,function(e){return x.toRange(e,t)},function(e,t){U(e),E(e,t)});AdBridg.gpt!==window.googletag&&(r.setTargeting("unit",e),(w.libSettings().unsafeBidders||"").split(",").filter(function(e){return e===n.config.bidder_name}).length&&r.setTargeting("unsafe",!0));var a=(z[n.id]=n).config.dfp_bidder_name||n.config.bidder_name,s=n.cpm,d=w.libSettings().cur;d&&(d.exclude&&-1<d.exclude.indexOf(n.config.bidder_id)?x.log("Currency conversion skipped: ",n.config.bidder_name):(x.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate));var c=x.toRange(s,t),u=c.kv;S.trigger("gpt.modify_hbc",e,r,{bid:n,range:c,mod:function(e){return s=e,c=x.toRange(s,t),u=c.kv,c}}),x.qs("adb_force_bidder")?(a="force",u=""):x.qs("adb_force_sf_bidder")&&(a="forcesf",u="");var p=w.libSettings().vs_threshold;if("function"==typeof p)try{var l=p(s);l&&r.setTargeting(w.kvp("adb_vs"),l)}catch(e){x.err("HVfail",e)}r.setTargeting(w.kvp("adb_bdr"),[a]),r.setTargeting(w.kvp("adb_hbc"),[u]),r.setTargeting(w.kvp("adb_adid"),[n.id]),w.libSettings().track_mtype&&n.extras&&n.extras.mediaType&&r.setTargeting(w.kvp("adb_mtype"),[n.extras.mediaType]),x.log("Set GPT targeting for ",r.getAdUnitPath()," / ",r.getSlotElementId(),": ",a,u),E(r,s)}(t),i.push(t.get("gpt_slot"))}catch(e){x.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e=_.concat(i);if(_=[],q(e),"function"==typeof t&&t(o),k&&!(e=F("AC",e)).length)return x.err("All units cancelled",o.id);(k||a)&&(Q(),x.log(j,"GPT Batch: ",e.length),AdBridg.gpt.pubads().refresh(e,n),S.trigger("gpt.request_adbridg",o,a))})})}function D(){var e,t;g&&(e=f.length,(f=F("PT",f)).length?(x.isdebug()&&(t=[],x.each(f,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),x.log("Non-bid request with",f.length," units: ",t)),ce("rp",function(){var e=f;f=[],e.length&&(Q(),q(e),x.log(j,"GPT PT Batch: ",e.length),AdBridg.gpt.pubads().refresh(e),S.trigger("gpt.request_passthrough",e))})):e&&x.err("PT units cancelled"))}function M(e){x.log("Locked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!0}function O(e,r,i){var o=[],o=Number(e[0])===e[0]?[e]:[].concat(e),a=[];if(x.each(o,function(e,t){if("string"==typeof e[t]){var n=e[t].split("x");return 0!==n[0]&&0!==n[1]||x.err("0 size in",r,i,e[t]),void(e[t].match(/^\d+x\d+$/)||a.push(t))}0!==e[0]&&0!==e[1]||x.err("0 size in",r,i,e.join("x")),o[t]=e.join("x")}),a.length)for(var t=a.length-1;0<=t;--t)o.splice(t,1);return o}var U=function(e){var t=w.libSettings().gpt_exclusions;if(t){for(var n=!1,r=e.getCategoryExclusions(),i=r.length-1;0<=i;--i){var o=r[i];t.hasOwnProperty(o)&&(r.splice(i,1),n=!0)}if(n)for(e.clearCategoryExclusions(),i=0;i<r.length;++i)e.setCategoryExclusion(r[i])}},P={},N={},q=function(e){x.each(e,function(e){var t=e.getSlotElementId(),n=(N[t]||0)+1;N[t]=n;var r=w.libSettings().track_imps;if(r)try{"string"!=typeof r&&(r="1:1-11");for(var i=Math.floor(x.toRange(n,r).kv.split("-")[0]),o=e.getTargeting("adb_imp"),a=o.length-1;0<=a;--a)String(o[a]).match(/^\d+$/)&&o.splice(a,1);o.push(i),e.setTargeting(w.kvp("adb_imp"),o)}catch(e){x.err("Counter failed: ",e)}})},L={},F=x.wrapAsync(function(o,e,a){var s=w.libSettings().max_imp_ctr;"function"==typeof s&&(s=s());var d=[];return x.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var n=t.getSlotElementId();if(!b[n]){if(V("F"+o,n))return x.log("Slot excluded; element hidden",n);if(a){if(L[t.getSlotElementId()])return x.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(s){var r=N[n]||0;if(s<=r)return P[n]?x.log("Slot excluded; too many imps: ",t,r+" > "+s):x.err("Slot imp max: ",t.getAdUnitPath(),n,s)}}var i=[];if(S.trigger("gpt.filter_slot",o,t,a,i),i.length)return x.log("Module blocking",o,t,i);d.push(e)}}}),d}),V=function(e,t,n){var r=x.dom_invisible(t);if(r){n=n||0;var i=w.libSettings().block_invisible;if("function"==typeof i&&(i=i(e,t,r)),i)return x.err("DEI.R",e,t,r,n),r;x.err("DEI.A",e,t,r,n)}return!1};window.AdBridg.defineSlot=x.wrapAsync(function(e,t,n){var r=V("DS",n);if(r)return x.log("Slot definition blocked: ",n,r),!1;var i=w.libSettings().block_slot;if("function"==typeof i)try{if(i(e,n))return void x.err("Blocking slot:  ",e," with dom_id: ",n)}catch(e){x.err("DefineOverride",e)}var o=w.libSettings().override_define;if("function"==typeof o)try{var a=o(e,t,n);if(!1===a)return x.log("Param override prevented defineSlot",e," dom_id=",n),!1;"object"==typeof a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(n=a.dom_id))}catch(e){x.err("DefineOverride",e)}t&&(!x.isarr(t)||t.length)||(A.ctr("dsea"),t=[1,1]);var s=AdBridg.gpt.defineSlot(e,t,n);if(!s)return s;s.addService(AdBridg.gpt.pubads()),M(s);var d=O(t,e,n),c=d.join(","),u=new m({dom_id:n,gpt_slot:s,gpt_sizes:c,imp_ctr:(N[n]||0)+1});u.restrictSizesTo(d),v[n]=c;var p,l,g=400,f=w.libSettings().lazy;return"function"==typeof f&&"number"==typeof(f=f(u,s,n,w.libSettings()))&&(g=f),f&&(x.log("Requiring lazy: ",n,"distance=",g),u.set("lock.lazy",1),p=w.libSettings().lazy_measurement_filter,x.dom(n,g,0,function(){x.logl("wf",j,"unit triggered lazy load",u.alias,u.get("dom_id")),u.set("lock.lazy",!1),k?AdBridg.serve():AdBridg.display(n)},p,w.libSettings().lazy_compatible_collapse)),h.push(u),x.log(j,"Defined slot: ",e,n,c),S.trigger("gpt.define",u,s,e,t,n),w.libSettings().allow_serve_from_display&&y[n]&&(x.logl("wf",j,"triggering serve from define after display",n),AdBridg.serve()),k||("function"==typeof(l=w.libSettings().nonsra_poll)&&(l=l()),l&&(x.log("Nonsra poll for DOM ids"),W(n))),s}),window.AdBridg.defineOutOfPageSlot=x.wrapAsync(function(e,t){var n=AdBridg.gpt.defineOutOfPageSlot(e,t);if(!n)return n;n.addService(AdBridg.gpt.pubads()),M(n);var r=new m({dom_id:t,gpt_slot:n,gpt_sizes:""});return h.push(r),x.log(j,"Defined OOP slot: ",e,t),S.trigger("gpt.define",r,n,e,!1,t),w.libSettings().allow_serve_from_display&&y[t]&&(x.logl("wf",j,"triggering serve from defineOOP after display",t),AdBridg.serve()),n});var G={},W=function(t){G[t]=G[t]||{ct:0,tx:-1};var n=G[t];clearTimeout(n.tx),10!==n.ct?(n.ct+=1,n.tx=setTimeout(x.wrapAsync(function(){if(!y[t]){var e=!!document.getElementById(t);if(x.log("Nonsra display poll #"+n.ct+": ",t,"; display received =",!!y[t],"; dom exists =",e),e)return x.log("Nonsra issuing display from poll",t),void AdBridg.display(t);W(t)}}),1e3)):x.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=x.wrapAsync(function(e,t,n){if(n?(AdBridg.defineSlot(e,t,n),AdBridg.serve()):n=e,y[n]=!0,x.logl("wf",j,"display received",n),w.libSettings().allow_serve_from_display&&h.length&&(x.logl("wf",j,"triggering serve from display",n),AdBridg.serve()),g=!0,!k){h.length&&(l=l.concat(h),h=[]);for(var r=l.length-1;0<=r;--r){var i=l[r].get("dom_id");if(y[i]){var o=l.splice(r,1)[0];if(!o.get("gpt_sizes")){x.logl("Ignoring display for unit with no sizes",i);continue}h.push(o)}}return h.length?(x.logl("wf",j,"nonsra issuing serve",h.length),void Y(function(r,i){ce("dn",function(){r?r.eachUnit(function(e){x.logl("wf",j,"display resolved",e.get("dom_id"),"auction=",r),AdBridg.gpt.display(e.get("dom_id")),S.trigger("gpt.request_nosra",e.get("dom_id"))}):(x.logl("wf",j,"display resolved",i," as passthrough"),AdBridg.gpt.display(i),S.trigger("gpt.request_nosra",i));var e=l.length;if(e){x.logl("wf",j,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var n=l[t].get("dom_id");if(y[n]){setTimeout(function(){AdBridg.display(n)},0);break}}}})})):void x.logl("wf",j,"nonsra display waiting on definition/serve")}ce("ds",function(){Q(),x.logl("wf",j,"display resolved",n),AdBridg.gpt.display(n)}),D()}),window.AdBridg.refresh=x.wrapAsync(function(e,t){if(e=e||AdBridg.gpt.pubads().getSlots(),w.libSettings().allow_serve_from_refresh&&h.length){for(var n=e.length-1;0<=n;n--)for(var r=h.length-1;0<=r;r--)e[n]===h[r].get("gpt_slot")&&e.splice(n,1);if(AdBridg.serve(),!e.length)return}var a,s,d,c,i=e.length;e=F("RF",e,!0),x.logl("wf",j,"refresh: ",i,"slots requested; ",i-e.length,"filtered out;",e.length,"remaining."),e.length?(a=new u,s="no_auction"!==w.libSettings().refresh,d=[],c=[],x.each(e,function(e){try{R(e)}catch(e){return x.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();M(e);var n,r,i=v[t]||"";I[t]&&(r=(n=I[t].adb||I[t].gpt)&&"0x0"!==n&&n.match(/^\d{2,}x\d{2,}\d/),x.logl("sz","Refresh size restriction for",t,"=",n,"; is_valid=",r),r&&(i=n));var o=new m({dom_id:t,gpt_slot:e,gpt_sizes:i,is_refresh:!0,imp_ctr:(N[t]||0)+1});s&&(w.configureUnit(o),x.logl("sz","Refresh restricting sizes to ",i),o.restrictSizesTo(i.split(","))),o.hasBidReqConf()?a.addUnit(o):(c.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),d.push(e))}),d.length&&(x.log("Refreshing",d.length,"non-bid units: ",c),ce("rn",function(){Q(),q(d),x.log(j,"GPT RF Batch: ",d.length),AdBridg.gpt.pubads().refresh(d,t),S.trigger("gpt.request_passthrough",d,!0)})),a.hasUnit()&&(T.push(a),a.execute(B(null,t,!0)))):i&&x.err("RF units cancelled")});var H={},$=x.wrapAsync(function(e){var t=String(e.message?e.message:e.data),n=t.substr(0,9),r=t.substr(10);return"adbsrverr"===n?x.err("Safeframe error: ",r):"adbsrvlog"===n?x.log("Safeframe: ",r):"adbvidend"===n?S.trigger("bid.outstream_end",r):"adbsrvreq"===n?H.hasOwnProperty(r)?x.err("SafeframeDupe:",r):void AdBridg.render({safeframe:!0,source:e.source},r):void 0});window.addEventListener?window.addEventListener("message",$,!1):document.attachEvent&&window.attachEvent("onmessage",$),window.AdBridg.render=x.wrapAsync(function(t,e){var n,r=!("object"!=typeof e);if(r)n=e,x.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," [override] creative from ",n.config.bidder_name," BR ",n.config.id);else{if(!z[e])return void x.err("Render failed for ID ",e);n=z[e],x.log("Unit ",n.config.unit.alias," rendering ",n.width+"x"+n.height," creative from ",n.config.bidder_name,n.fromPool?"(from pool)":""," BR ",n.config.id),A.bidRendered(n)}var i=n.config.unit.get("dom_id"),o=x.dom_invisible(i);V("AR",i,n.config.bidder_id),o&&x.log("AdBridg render detected invisible container at time of render:",i,o);var a={config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras,dom_id:i};r&&(a.override=1);var s=JSON.stringify(a);if(n.adbridg_rendered=!0,S.trigger("bid.render",n,a),t.safeframe&&t.source&&t.source.postMessage){var d=w.libSettings().pmmutatefn;if(!n.creative)return x.err("Safeframe render fail: no creative");var c={ad:"\x3c!-- AdBridg Delivery (SF): "+s+" --\x3e"+n.creative};"function"==typeof d&&(c=d(n,c)),t.source.postMessage("adbsrvad:"+JSON.stringify(c),"*")}else if(n.creative){var u=w.libSettings().pubrenderfn,p=!1;"function"==typeof u&&(t.write("\x3c!-- AdBridg Delivery (ER): "+s+" --\x3e"),u(t,n.creative,n.config.bidder_name,n.width,n.height,n)?(p=!0,x.log("Creative rendered externally")):x.log("External render skipped")),p||(t.write("\x3c!-- AdBridg Delivery: "+s+" --\x3e"),t.write(n.creative),t.close())}else if(n.creative_url)try{var l=x.iiframe();l.width=n.width,l.height=n.height,l.style.display="inline",l.style.overflow="hidden",l.src=n.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+s)),t.body.appendChild(l)}catch(e){x.err("Delivery failure from ",n.config.bidder_name," / ",n.config.bidder_unit_id,e)}else{if("function"!=typeof n.render)return x.err("No creative from ",n.config.bidder_name," / ",n.config.bidder_unit_id);n.rawbid.adUnitCode=document.getElementById(i).children[0].id,document.getElementById(n.rawbid.adUnitCode).innerHTML="",n.render(),x.rec("winner.render:"+n.id)}var g,f,m,h,v=n.resize_pad_top||!1,b=document.getElementById(i);if(b.style.textAlign="center",(h=(g=b).getElementsByClassName("adbridg-dyn-pad")).length&&x.each(h,function(e){e.parent.removeChild(e)}),v&&((f=x.prepend(g,"span")).className="adbridg-dyn-pad",f.innerHTML="&nbsp;",f.style="display:block;width:1px;height:"+v+"px;overflow:hidden;",(m=document.createElement("span")).className="adbridg-dyn-pad",m.innerHTML="&nbsp;",m.style="display:block;width:1px;height:"+v+"px;overflow:hidden;",g.appendChild(m)),t.safeframe)try{var y=b.getElementsByTagName("iframe");x.each(y,function(e){e.contentWindow===t.source&&(x.logl("RS","RS SF element: ",e.id,n.width,n.height),x.resize_element(e,n.width,n.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(x.logl("RS","RS SF parent: ",e.parentNode.id,n.width,n.height),x.resize_element(e.parentNode,n.width,n.height)))})}catch(e){x.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=n.width,t.defaultView.frameElement.height=n.height),x.logl("RS","RS iframe: ",n.width,n.height),x.resize_iframe(window,t,n.width,n.height);w.libSettings().refresh_keep_size&&(I[i]||(I[i]={gpt:"",adb:""}),I[i].adb=a.size,x.log("SIZE REFRESH KEEPING ADB: ",i,I[i]));var _=w.libSettings().post_render;"function"==typeof _&&_(n)});var J=[];window.AdBridg.sizeMapping=x.wrapAsync(function(){var e,n=[],r=AdBridg.gpt.sizeMapping(),i={addSize:x.wrapAsync(function(e,t){return r.addSize(e,t),n.push([e,t]),i}),build:x.wrapAsync(function(){return e=r.build(),J.push({gpt_map:e,sizes:n}),e})};return i}),window.AdBridg.useSizeMapping=x.wrapAsync(function(e,t,n){var r=!1,i=e.getSlotElementId(),o=e.getAdUnitPath();for(e.defineSizeMapping(t),p=J.length-1;0<=p;--p)if(J[p].gpt_map===t){r=J[p].sizes;break}if(r){for(var a=x.vp(),s=a.w,d=a.h,c=!1,u=[],p=r.length-1;0<=p;--p){var l=r[p][0];if(s>=l[0]&&d>=l[1]){if(c){if(c[0]>l[0])continue;if(c[0]===l[0]&&c[1]>l[1])continue}c=l,u=r[p][1]}}var g=O(u,o,i),f=g.join(",");v[i]=f;var m=n||!1;if(!m)for(p=h.length-1;0<=p;--p)if(h[p].get("gpt_slot")===e){m=h[p];break}if(!m)return x.err("No unit for size map: ",o,i);m.set("gpt_sizes",f),m.restrictSizesTo(g),v[i]?x.log("Applied size mapping to ",i," / ",o,": ",f):(b[i]=1,x.log("Excluding unit ",i," / ",o," because it has no valid sizes"))}else x.err("Size mapping not found: ",o,i)}),window.AdBridg.resetInternals=function(){};var K=!(window.AdBridg.destroySlots=function(e){e=e||AdBridg.gpt.pubads().getSlots();var n=[];return x.each(e,function(e){var t;e&&(t=e.getSlotElementId(),delete N[t],delete v[t],delete I[t],delete b[t],delete L[t],delete y[t],x.undom(t),S.trigger("gpt.destroy",e,t),n.push(t))}),x.log("Destroyed slots: ",n),AdBridg.gpt.destroySlots(e)}),Q=function(){var e;K||(K=!0,"function"==typeof(e=w.libSettings().before_gpt)&&x.wrapAsync(e)(),S.trigger("gpt.before_enable_services"),AdBridg.gpt.enableServices(),S.trigger("gpt.after_enable_services"))},X=!1,Y=x.wrapAsync(function(e){x.logl("wf",j,"serve called with",h.length,"pending units");var t=!1;Q();for(var n=!1,r=0;h.length>r;){var i=h.shift();if(i.get("lock.lazy"))x.logl("wf",j,"serve skipped lazy",i.alias,i.get("dom_id")),r+=1,h.push(i);else{var o=i.get("dom_id");if(b[o]||!V("AS",o))if(w.configureUnit(i),i.hasBidReqConf()){if(c){var a=p.indexOf(i.id);if(0<=a){var s=!1;if(c.eachUnit(function(e){var t,n,r;e.id===i.id&&(s=!0,p.splice(a,1),x.log("Proxy into preload ",i.alias),t=i.get("gpt_slot"),n=i.get("dom_id"),r=v[n]||i.get("gpt_sizes")||"",e.set({dom_id:n,gpt_slot:t,gpt_sizes:r}),e.restrictSizesTo(r.split(",")),S.trigger("unit.pre_attach",e))}),s){n=!0;continue}}}(t=t||new u).addUnit(i)}else k?f.push(i.get("gpt_slot")):(q([i.get("gpt_slot")]),x.thread(e)(!1,i.get("dom_id")));else x.err("Slot rejected before auction, element hidden:",o)}}(t||c)&&w.libSettings().gpt_keep_oop&&f.length&&(x.log("Batching passthrough units with auction units"),_=_.concat(f),f=[]),t&&(T.push(t),t.execute(B(e)),t=!1),n&&!X&&(X=!0,ge(B())),D()}),Z=!1;window.AdBridg.serve=function(e){if(clearTimeout(Z),k){x.logl("wf",j,"queuing serve");var t=w.libSettings().batch_delay;if("function"==typeof t&&(t=t(h)),0===t)return x.log("Starting auctions ASAP."),Y(e);t=t||100,Z=setTimeout(function(){Y(e)},t)}else for(var n=h.length-1;0<=n;--n){var r=h[n].get("dom_id");if(y[r]){setTimeout(function(){AdBridg.display(r)},0);break}}};function ee(e){for(var t,n,r=T.length-1;0<=r&&!(t=(n=T[r]).findUnit(e));--r);return!t&&c&&(t=(n=c).findUnit(e)),!!t&&{auction:n,unit:t}}var te=x.wrapAsync(function(t){var e,n=t.slot.getSlotElementId();!t.isEmpty&&V("RE",n)&&x.log("Slot rendered from GPT, but element hidden by CSS:",n);try{e=t.slot,x.log("Unlocked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!1,R(e)}catch(e){x.err("Unlock failed")}var r=N[n];S.trigger("gpt.render_raw",t,r);var i=ee(function(e){return e.get("gpt_slot")===t.slot});if(w.libSettings().refresh_keep_size&&t.size&&2===t.size.length&&(I[n]||(I[n]={gpt:"",adb:""}),I[n].gpt=t.size.join("x")),i){if(!i.auction)return x.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());AdBridg.gpt===window.googletag?A.gptRendered(i.auction,i.unit,t):A.enhRendered(i.auction.instancectr,i.unit.id,t),S.trigger("gpt.render",i.unit,t,r),x.qdusp()}}),ne=x.wrapAsync(function(t){S.trigger("gpt.viewed_raw",t);var e=ee(function(e){return e.get("gpt_slot")===t.slot});if(e){A.gptViewed(e.auction,e.unit);try{var n=w.libSettings().post_view;"function"==typeof n&&n(t,e.unit)}catch(e){x.err("PostView fail",e)}S.trigger("gpt.viewed",t.slot,e.unit);var r=t.slot.getSlotElementId();V("VE",r)&&x.log("Slot viewed from GPT, but element hidden by CSS:",r)}}),re=[],ie={};window.AdBridg.lock=function(e){if(ie[e])return ie[e]=null,x.log("-== GPT lock already cleared: ",e);x.log("-== GPT locked by: ",e),re.push(e)},window.AdBridg.unlock=function(e,t){for(var n=!1,r=0;r<re.length;++r)if(re[r]===e){x.log("-== GPT lock cleared: ",e),re.splice(r,1),n=!0;break}n||t||(ie[e]=!0,x.log("-== GPT unrecognized lock cleared: ",e)),ue()};function oe(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),pe<=99&&(pe+=1),A.meta("wb",pe)})}function ae(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),A.meta("wb",0)})}var se,de=[],ce=function(e,t){de.push({n:e,f:x.wrapAsync(t)}),ue()},ue=function(){if(!re.length)for(;de.length;){de.shift().f()}},pe=0;window.addEventListener?(window.addEventListener("blur",oe),window.addEventListener("focus",ae)):window.attachEvent&&(window.attachEvent("onblur",oe),window.attachEvent("onfocus",ae)),x.isdebug()&&(AdBridg.auctions=T,AdBridg.utils=x);var le=x.wrapAsync(function(){clearTimeout(se);var e={delay:!1};if(S.trigger("adb.init_check",e),"number"!=typeof e.delay){S.trigger("adb.init"),AdBridg.gpt.pubads().addEventListener("slotRenderEnded",te),AdBridg.gpt.pubads().addEventListener("impressionViewable",ne),i=!0;var t=w.libSettings().initfn;for(t&&AdBridg.cmd.push(t);o.length;){var n=o.shift();AdBridg.cmd.push(n)}}else se=setTimeout(le,e.delay)});window.AdBridg.lazy=function(e,t,n,r){"function"==typeof n&&(r=n,n=0),x.dom(e,t,n,r)},x.log("First execution."),w.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){var t=w.libSettings().preload&&w.libSettings().preload()||[];if(t.length){for(var n=AdBridg.cmd.length;0<=n;n--){var r=AdBridg.cmd[n];r&&r.gpt_path&&AdBridg.cmd.splice(n,1,function(n){function r(e){function t(e){2===e.length&&1<e[0]&&1<e[1]?n.push(e):x.err("Invalid preload size: ",e)}var n=[];return x.isarr(e)&&(x.isarr(e[0])?x.each(e,t):t(e)),n}var i=r(n.size||[]);return function(){var t,e=AdBridg.defineSlot(n.gpt_path,i,n.dom_id);x.isarr(n.size_map)&&(t=AdBridg.sizeMapping(),x.each(n.size_map,function(e){t.addSize(e.viewport,r(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)),AdBridg.serve()}}(r))}t&&t.length&&(c=new u,x.each(t,function(e){if(e=parseInt(e,10),x.log("Preloading",e),e){var t=new m;if(w.configureUnit(t,e),!t.hasBidReqConf())return x.err("Preload bad id",e);p.push(e),c.addUnit(t)}}),c.hasUnit()&&(x.log("Preload kickoff",c),c.execute(x.wrapAsync(function(e){x.log("Preload complete"),a&&a(e)}))))}}});var ge=function(e){c.isDone()?e(c):a=e};w.afterConsent(function(){AdBridg.gpt.cmd.push(function(){x.log("Initializing. SRA is",(k?"enabled":"disabled")+"."),k&&(AdBridg.gpt.pubads().enableSingleRequest(),AdBridg.gpt.pubads().disableInitialLoad()),le()})}),x.wrapAsync(function(){for(AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if("function"==typeof w.libSettings().cmd_override)try{var e=w.libSettings().cmd_override(t);if(!e)return void x.log("AdBridg command cancelled",t);t=e}catch(e){x.err("CmdOverrideFail",e)}if("object"!=typeof t||(t.config&&(w.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(x.each(t.events,function(e,t){S.on(t,e)}),delete t.events),t.action&&(x.log("Publisher event triggered: ","pub."+t.action),S.trigger("pub."+t.action),delete t.action),Object.getOwnPropertyNames(t).length))if(i){if("object"==typeof t&&(t.gpt_path||t.length))try{x.log("Initialization command object processing:",t);function n(i){AdBridg.gpt.cmd.push(function(){var n,e;if(i.oop)n=AdBridg.defineOutOfPageSlot(i.gpt_path,i.dom_id);else if((n=AdBridg.defineSlot(i.gpt_path,i.size||[1,1],i.dom_id))&&i.size_map){for(var t=AdBridg.sizeMapping(),r=0;r<i.size_map.length;r++)t=t.addSize(i.size_map[r].viewport,i.size_map[r].sizes);t=t.build(),n.defineSizeMapping(t),AdBridg.useSizeMapping(n,t)}n&&i.targeting&&x.each(i.targeting,function(e,t){n.setTargeting(t,e)}),n&&i.events&&(i.events["gpt.defined"]&&i.events["gpt.defined"](n),(e=function(t,e){i.events[t]&&AdBridg.gpt.pubads().addEventListener(e,function(e){e.slot===n&&i.events[t](n,e)})})("gpt.rendered","slotRenderEnded"),e("gpt.viewed","impressionViewable"),e("gpt.visibilityChanged","slotVisibilityChanged")),n&&AdBridg.display(i.dom_id)})}if(t.length)for(var r=0;r<t.length;++r)n(t[r]);else n(t);t=function(){AdBridg.serve()}}catch(e){x.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){x.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else o.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}})()}}function fe(){}},{"../analytics.js":10,"../auction.js":11,"../config.js":12,"../modules.js":15,"../unit.js":22,"../utils.js":23}],15:[function(e,t,n){function r(e){o.push(e)}var i=e("./utils.js"),o=[],a=["gpt.after_enable_services"],s={},d={},c={on:function(e,t){i.isarr(e)||(e=[e]),i.each(e,function(e){s[e]?t(e):(d[e]||(d[e]=[]),d[e].push(t))})},trigger:null};c.trigger=n.trigger=i.wrapAsync(function(e){var t=arguments,n=(d[e]||[]).concat(d["*"]||[]);i.each(n,i.wrapAsync(function(e){e.apply(null,t)})),-1<a.indexOf(e)&&(s[e]=1)});var u=!1;i.onerr(i.wrapAsync(function(){return u?(console&&console.log("AdBridg nested module errors"),void i.pixel("https://adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest")):(u=!0,n.trigger("error",arguments),void(u=!1))})),n.on=i.wrapAsync(function(e,t){c.on(e,t)}),n.setup=function(e){0};try{r(new(e("./modules/nextrollid.js"))({partner_id:"1013"},c)),r(new(e("./modules/lzest.js"))({},c)),r(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon"},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang"}}},c)),r(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","320x50","728x90","970x250","970x90"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),i.log("Healthline config not detected; using globals")),{skip_init:!0}}},c))}catch(e){i.err("Module failed",e)}},{"./modules/amazon.js":16,"./modules/gprog.js":17,"./modules/lzest.js":18,"./modules/nextrollid.js":19,"./utils.js":23}],16:[function(e,t,n){var l=e("../utils.js"),g=e("../config.js"),f=(t.exports=function(s,e){function d(e){var r=[],i=s.allowed_sizes;return l.each(e,function(e,t){if(i&&-1==i.indexOf(e))return l.log("Amazon unsupported size: ",e);var n=e.split("x");n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10),r.push(n)}),r}var c={},u={},a={},r=!l.qs("adb_enable_amzn")&&s.test;"function"==typeof r&&(r=r());var t=s.load_apstag;"function"==typeof t&&(t=t());var i=!1,o=!1;if("function"==typeof g.libSettings().nogpt&&g.libSettings().nogpt()||l.qs("adb_nogpt"))return l.log("nogpt Disabling Amazon"),void(r=o=!(t=!1));function p(){if(i)return r;var n=s.init;return"function"==typeof n&&(n=n(g.libSettings())),n?(i=!0,r?(l.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),r):window.apstag?void(n.skip_init||g.afterConsent(function(e,t){return t&&t.uspString&&(n.params=n.params||{},n.params.us_privacy=t.uspString,s.no_ca&&"Y"===t.uspString.substr(2,1))?(r=!0,void l.log("Amazon disabled for CA",t.uspString)):(apstag.init(n),void l.log("Amazon initialized:",n))})):(t||o||(l.err("Amazon library not found."),o=!0),r=!0)):(l.log("Amazon init bypassed."),!1)}r||!t||f()||(r=i=!0),e.on("unit.config",function(e,t){if(!p()){var n=t.get("dom_id"),r=t.get("gpt_slot");if(!n||!r)return l.log("Amazon skip",n,r);var i=r.getAdUnitPath()+"",o=s.get_slot_name?s.get_slot_name(i,n,r,t):(i.match(/([^\/]+)$/)||[""])[0];if(!o)return l.err("Amazon noname: ",o,n,i);var a={slotID:n,slotName:o,sizes:u[n]||d(t.all_sizes)};c[n]=a,l.log("Amazon slot configured",a,!!u[n])}}),e.on("unit.restrict_sizes",function(e,t,n){if(!p()){var r=t.get("dom_id");n=d(n),u[r]=n;var i=c[r];return i?(l.log("Amazon slot resize",i,n),void(i.sizes=n)):void 0}}),e.on("gpt.destroy",function(e,t,n){p()||(l.log("Amazon slot remove",n),delete c[n],delete u[n])}),e.on("unit.pre_attach",function(e,t){if(!p()){var n=t.get("dom_id"),r=c[n];if(!r)return l.log("Amazon preload mismatch",n);var i=t.auction,o="amazon."+t.id;i.lock(o),apstag.fetchBids({slots:[r],timeout:i.max_ms},l.wrapAsync(function(){l.log("Amazon preload response",i.id,arguments);try{apstag.setDisplayBids()}catch(e){l.err("Amazon setBids",e)}i.unlock(o)}))}}),e.on("auction.start",function(e,t){var r,n,i,o;p()||(r=[],t.eachUnit(function(e){var t=e.get("dom_id"),n=c[t];n?(r.push(n),c[t]=null):l.log("Amazon no config",t)}),r.length&&(n={slots:r,timeout:t.max_ms},l.log("Amazon request",t.id,n),i="amazon."+t.id,a[i]=!0,t.lock(i),o=setTimeout(l.wrapAsync(function(){a[i]&&(a[i]=!1,t.unlock(i),l.err("Amazon incomplete at 50"))}),t.max_ms+50),apstag.fetchBids(n,l.wrapAsync(function(){l.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){l.err("Amazon setBids",e)}clearTimeout(o),a[i]&&(a[i]=!1,t.unlock(i))}))))})},function(){if(window.apstag)return l.log("Amazon already loaded"),!0;l.log("Loading Amazon dependency");try{n="apstag",r=window,t=document,r[n]||(r[n]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(i=t.createElement("script")).async=!0,i.src="https://c.amazon-adsystem.com/aax2/apstag.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,o))}catch(e){return l.err("Amazon load failed",e),!1}function e(e,t){r[n]._Q.push([e,t])}var n,r,t,i,o;return!0})},{"../config.js":12,"../utils.js":23}],17:[function(e,t,n){var l=e("../utils"),o=e("../config"),a=e("../analytics.js");t.exports=function(u,e){var n,p,r,i;u.bidders&&((n=o.libSettings()).gpt_clear_kvps||(n.gpt_clear_kvps=[]),l.each(u.bidders,function(e,t){n.gpt_clear_kvps.push(e.deal),n.gpt_clear_kvps.push(e.adid)}),p={},r=l.wrapAsync(function(e,t){var n;l.log("Gprog Deal Render Ad",t,p[t]),a.gprog(["render"]),p[t]?(n=p[t],AdBridg.render(e,n),p[t]=!1,a.gprog(["render2",{config:n.config.unit.alias,bidder:n.config.bidder_name,size:n.width+"x"+n.height,extras:n.extras}])):l.err("GprogBadDealid",t)}),(i=window.top).pbjs=i.pbjs||{},i.pbjs.renderAd=r,e.on("auction.complete",function(e,t){!i.pbjs.renderAd!==r&&(i.pbjs.renderAd=r),t.eachBidRequest(function(n,r){var i,o,e,a,s,d,c=r.bidder_name,t=u.bidders[c];t&&(i=t.deal,o=t.adid,e=n.get("gpt_slot"),a=n.get("dom_id"),e&&a&&i&&o&&(s=[],d=[],l.each(r.responses,function(e){var t;e.extras&&e.extras.dealid&&(t=r.id,p[t]&&p[t].creative!=e.creative&&l.err("GprogOWcreative"),p[t]=e,s.push(e.extras.dealid),d.push(r.id),l.log("GprogDeal ("+c+"): ",n.alias,"/",a,i,"=",e.extras.dealid,";",o,"=",r.id))}),s.length&&(n.settings.gprog=n.settings.gprog||{},n.settings.gprog[i]=s,n.settings.gprog[o]=d)))})}),e.on("gpt.set_targeting",function(e,t,n){t.settings.gprog&&l.each(t.settings.gprog,function(e,t){n.setTargeting(t,n.getTargeting(t).concat(e)),a.gprog(["set",t])})}))}},{"../analytics.js":10,"../config":12,"../utils":23}],18:[function(e,t,n){var o=e("../utils");t.exports=function(e,t){var r={},n={},i=e.offset_distance?e.offset_distance:400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return o.err("LzEstNoDom",e.alias);r[t]="lzno",n[t]&&(o.logl("lz","LazyEst removing previous",t),o.undom(t,n[t])),n[t]=function(){o.logl("lz","LazyEst triggered",t),r[t]="lzyes"},o.logl("lz","LazyEst measurement",t,o.where(t)),o.dom(t,i,0,n[t])})}),t.on("gpt.set_targeting",function(e,t,n){t.setImpData("lz",r[t.get("dom_id")]||"lzna")})}},{"../utils":23}],19:[function(e,t,n){var a=e("../utils.js"),s=(e("../ajax.js"),e("../config.js"),"_adb_nextroll_id");t.exports=function(e,t){var n,r;function i(){var t,n=["ReadAdID","YES","RetrieveNearestAdID","&ssn=","slice","join","ignoreOptout","&eid=","/push?uid=","/ping?uid=","dca0","loadSSN","exports","call","defineProperty","toStringTag","__esModule","object","create","string","default","hasOwnProperty","undefined","Module","bind","prototype","floor","random","toString","xid0","XIDOPTOUT","https://sn.dca0.com/key","https://sn36.dca0.com","GET","onreadystatechange","readyState","DONE","responseText","status","send","https://l",".dca0.com/srv-id/?uid=","k4838af91965497293f0d0f92c691c29","length","charAt","substring","indexOf","getTime","expires=","toUTCString","cookie",";path=/;samesite=none;secure;","PID","app","createElement","script","src","body","appendChild"];t=n,function(e){for(;--e;)t.push(t.shift())}(249);var r,i,z=function(e,t){return n[e=+e]};function o(e){if(i[e])return i[e][z("0x0")];var t=i[e]={i:e,l:!1,exports:{}};return r[e][z("0x1")](t[z("0x0")],t,t.exports,o),t.l=!0,t[z("0x0")]}i={},o.m=r=[function(e,t){function i(e){if(r[e])return r[e][z("0x0")];var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r;r={},i.m=n=[,,function(e,t,n){e[z("0x0")]=n(3)},function(e,t){!function(){"use strict";var e,t,h=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),n=z("0x11"),v=z("0x12"),b=z("0x13"),y=z("0x14");function r(){return Math[z("0xe")](65536*(1+Math[z("0xf")]()))[z("0x10")](16).substring(1)}function _(e,t){var n=new XMLHttpRequest;n.open(z("0x15"),e,!0),n[z("0x16")]=function(){n[z("0x17")]===XMLHttpRequest[z("0x18")]&&t&&t(n[z("0x19")],n[z("0x1a")])},n[z("0x1b")]()}function x(t){var i=new Array(19),o=0,a=!1;function e(e,t,n){var r;200===n?(r=JSON.parse(t),i[e]=r.id,o++):a=!0}for(var n=0;n<19;n++)_(z("0x1c")+n+z("0x1d")+h,e[z("0xc")](void 0,n));!function e(){a?t(null):19!==o?setTimeout(e,100):t&&t(i)}()}function w(n){!function e(){var t=window[z("0x1e")];t?n&&n(t):setTimeout(e,100)}()}function A(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=n[z("0x1f")],i=0;i<r;i++){for(var o=n[i];" "===o[z("0x20")](0);)o=o[z("0x21")](1);if(0===o[z("0x22")](t))return o[z("0x21")](t.length,o[z("0x1f")])}return""}function S(e,t,n){var r=new Date;r.setTime(r[z("0x23")]()+24*n*60*60*1e3);var i=z("0x24")+r[z("0x25")]();document[z("0x26")]=e+"="+t+";"+i+z("0x27")}function I(e,t){return t&&(t.PID&&(e+="&PID="+t[z("0x28")]),t[z("0x29")]&&(e+="&app="+t[z("0x29")])),e}(e=document[z("0x2a")](z("0x2b")))[z("0x2c")]=b,t=e,function e(){document[z("0x2d")]?document.body[z("0x2e")](t):setTimeout(e,1)}(),window[z("0x2f")]=function(){return z("0x30")===A(v)?null:A(n)},window[z("0x31")]=function(n,r){w(function(t){x(function(e){e?_(I(b+"/"+t+"/ping/nearest?uid="+h+z("0x32")+e[z("0x33")](0,19)[z("0x34")](""),r),n):n&&n(null)})})},window.RetrieveAdID=function(e,r,i){var o=!!i&&i[z("0x35")];if(z("0x30")===A(v)&&!o)return e&&e(null),void(r&&r(null));var a=i&&i[z("0x28")]?n+"_"+i[z("0x28")]:n,s=A(a)||null;e&&e(s);var d=!1,c=2,u="",p="";function l(t){!function e(){d?s&&t(s):setTimeout(e,1e3)}()}function g(e,t,n){_(I(b+"/"+e+"/push?uid="+h+z("0x36")+encodeURIComponent(n)+z("0x32")+t.slice(0,19)[z("0x34")]("")))}function f(e,t){_(I(y+z("0x37")+h+z("0x36")+encodeURIComponent(t)+z("0x32")+e.slice(0,10).join(""),i))}function m(){var e,t,n;0==--c&&(s=u||p||s||null,d=!0,o?r&&r(s):s?(e=s,t=i,n=function(e){return e?(S(v,z("0x30"),1825),r&&r(null),0):(S(a,s,365),void(r&&r(s)))},_(I("https://optout.dca0.com/app/v1/sync?uid="+h+z("0x36")+encodeURIComponent(e),t),function(e){n("1"===e)})):r&&r(null))}x(function(n){var e;n?(w(function(t){var e;e=n,_(I(b+"/"+t+z("0x38")+h+"&ssn="+e[z("0x33")](0,19)[z("0x34")]("")),function(e){u=e,m(),u||l(g[z("0xc")](null,t,n))})}),e=n,_(I(y+"/ping?uid="+h+z("0x32")+e[z("0x33")](0,10)[z("0x34")](""),i),function(e,t){p=e,m(),p||200!==t||l(f["bind"](null,n))})):r&&r(null)})},window.dca0=window[z("0x39")]||{},window[z("0x39")].loadSNID=w,window[z("0x39")][z("0x3a")]=x}()}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object[z("0x2")](e,t,{enumerable:!0,get:n})},i.r=function(e){z("0xa")!=typeof Symbol&&Symbol[z("0x3")]&&Object[z("0x2")](e,Symbol[z("0x3")],{value:z("0xb")}),Object[z("0x2")](e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&z("0x5")==typeof t&&t&&t[z("0x4")])return t;var n=Object[z("0x6")](null);if(i.r(n),Object.defineProperty(n,z("0x8"),{enumerable:!0,value:t}),2&e&&z("0x7")!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}[z("0xc")](null,r));return n},i.n=function(e){var t=e&&e[z("0x4")]?function(){return e[z("0x8")]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object[z("0xd")].hasOwnProperty[z("0x1")](e,t)},i.p="/",i(i.s=2)}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object[z("0x2")](e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol[z("0x3")],{value:"Module"}),Object[z("0x2")](e,z("0x4"),{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&z("0x5")==typeof t&&t&&t[z("0x4")])return t;var n=Object[z("0x6")](null);if(o.r(n),Object[z("0x2")](n,"default",{enumerable:!0,value:t}),2&e&&z("0x7")!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e[z("0x4")]?function(){return e[z("0x8")]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype[z("0x9")][z("0x1")](e,t)},o.p="/",o(o.s=0)}function o(e){var t;a.log("Nextroll ID fetched",e||"(empty)"),null!=(t=e)&&""!==t&&(n=e,a.lw(s,e))}"string"==typeof e.partner_id?!function(){var e=navigator.userAgent.toLowerCase();if(0<=e.indexOf("(linux; android ")){var t=e.substr(e.indexOf("linux; android ")+15).split(/\W/),n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]);if(isNaN(n)||n<4||4===n&&isNaN(r)||4===n&&0===r&&(isNaN(i)||i<3))return}else if(!e.match(/\b(ipad|iphone|ipod)\b/)||parseInt(e.substr(e.indexOf(") version/")+10),10)<9)return;return 1}()?a.log("Nextroll ID skipped: invalid UA"):(n=a.lr(s,!0),t.on("unit.config",function(e,t){n&&(a.log("Set Nextroll ID on unit",n,t),t.set("userId.nextroll",n))}),n?a.log("Nextroll ID read",n):(r=!1,t.on("gpt.render_raw",function(){r||(r=!0,a.log("Nextroll ID setup"),i(),window.RetrieveAdID(o,o,{PID:e.partner_id,app:"nextroll_id_module"}))}))):a.err("Nextroll missing partner_id")}},{"../ajax.js":9,"../config.js":12,"../utils.js":23}],20:[function(e,t,n){var s=e("./utils.js");function r(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded;this.url=n,this.config=r,this.handlers={},this.id=i,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):s.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},s.load(n,this.callback,!0)}r.install=function(e){return new r({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},r.prototype.getConfig=function(){return this.config},r.prototype.setRender=function(e){this.render=e},r.prototype.setEventHandlers=function(e){this.handlers=e},r.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),s.log("Prebid Renderer event for id "+t+" type "+n)},r.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){s.err("Error processing Renderer command: ",e)}},t.exports=r},{"./utils.js":23}],21:[function(e,t,n){function m(t){var e="GET"===t.method&&("object"==typeof t.data?b.toqs(t.data,!0):t.data),n={method:t.method,url:"GET"===t.method&&e?[t.url,"?",e].join(""):t.url,withCredentials:!1!==(t.options&&t.options.withCredentials),parseResponseJson:void 0===t.parseResponseJson||t.parseResponseJson,data:"POST"===t.method&&("object"==typeof t.data?JSON.stringify(t.data):t.data),contentType:(t.options||{}).contentType};return s.libSettings().ajaxraw&&(n.rawProcessor=function(e){s.libSettings().ajaxraw(t,e)}),n}function i(e,t){var n=t.config.size.split("x"),r=n[0],i=n[1],o=2*i<r?["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;}",".native-flex{display:flex;flex-direction:column;height:",i,"px;}",".native-flex-container{display:flex;flex-direction:row;flex:1}",".native-flex-content{display:flex;flex-direction:column;flex:7}",".native-image{background-image:url(",e.image.url,");flex:1;margin-right:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-flex">','<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-flex-container">','<div class="native-image"></div>','<div class="native-flex-content">','<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</div>","</div>","</div>","</a>"].join(""):["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;display:flex;flex-direction:column;height:",i,"px;}",".native-image{background-image:url(",e.image.url,");flex:2;margin-bottom:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-image"></div>','<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"].join("");return o+=["<script>",'var container=Array.from(document.getElementsByTagName("script")).pop().parentElement,','body=container.querySelector(".native-body"),','body2=container.querySelector(".native-body2");',"if(container.clientHeight-container.scrollHeight)",'body.innerText="";','body2.innerText="";',"<\/script>"].join("")}function h(e,t){return{creative:e.ad||(e.native?(n=e.native,((r=t).unit.settings&&r.unit.settings.nativeTemplate||i)(n,r)):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|t.config.size.split("x")[0]:e.width,height:e.native?0|t.config.size.split("x")[1]:e.height,extras:{dealid:e.dealId||e.dealid,crid:e.creativeId||e.creativeid,ttl:e.ttl,cur:e.currency,nr:e.netRevenue,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e};var n,r}function o(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e},{}):{}}function r(e,t){var n=document.createElement("a");t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:o(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}var a,v=e("./ajax.js"),b=e("./utils.js"),s=e("./config.js"),d=e("./renderer.js"),y={auction:void 0,gdpr_consent_object:void 0},_={createEidsArray:function(e){var t=y.auction.findUnit(function(){return 1}),n=t&&t.toPrebidUIDs();return n&&n.userIdAsEids},JSEncrypt:0,sha256:0,formatQS:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")},findIndex:function(e,t){return e.indexOf(t)},getRefererInfo:function(){return{referer:b.url().href,stack:[b.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},utils:{parseUrl:function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:o(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},getValue:function(e,t){return e[t]},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+_.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")},isBoolean:function(e){},getParameterByName:b.qs,getAdUnitSizes:!1,parseQueryStringParameters:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},getKeys:function(e){return Object.keys(e)},insertElement:function(e,t,n,r){var i=(t=t||document).getElementsByTagName(n||"head");i.length||(i=t.getElementsByTagName("body"));var o=i[0];if(o)return o.insertBefore(e,r?null:o.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!b.url().is_top},_map:function(n,r){if(!n)return[];if("function"==typeof n.map)return n.map(r);var i=[];return b.each(n,function(e,t){i.push(r(e,t,n))}),i},deepAccess:b.deepAccess,deepSetValue:function(e,t,i){return t.split(".").reduce(function(e,t,n,r){return n===r.length-1?e[t]=i:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return b.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:b.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:b.err,logWarn:b.log,logMessage:b.log,logInfo:b.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(a=0,function(){return++a}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(r,i){return b.each(r,function(e){var t=r[e],n=r[e];i[e]="function"==typeof t?n(n):"string"===t?n&&n.toString():"number"===t?Number(n):n,isNaN(i[e])&&delete i[e]}),i},createTrackPixelHtml:b.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e){var r=[];return b.each(e,function(e,t){var n={key:t};Array.isArray(e)&&(n.value=e.map(function(e){return e+""})),null!=e&&(n.value=[e+""]),n.hasOwnProperty("value")&&r.push(n)}),r},tryAppendQueryString:function(e,t,n){return n?e+(t+"="+encodeURIComponent(n))+"&":e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:b.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},deepClone:function r(i){return Object.keys(i).reduce(function(e,t){var n={}.toString.call(i[t]).slice(8,-1);return e[t]="Array"===n||"Object"===n?r(i[t]):"Date"===n?new Date(i[t].getTime()):"RegExp"===n?new RegExp(i[t]):i[t],e},Array.isArray(i)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,r){return e.reduce(function(e,t,n){return n%r?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var n=[];n.length<t;n.push("object"==typeof e?_.utils.deepClone(e):e));return n},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:b.genUUID,getBidRequest:function(e,t){for(var n=0;n<t.length;++n)for(var r=t[n],i=0;i<r.bids.length;++i){var o=r.bids[i];if(o.bidId===e||o.adId===e||o.bid_id===e)return o}b.err("shimGetBidRequestFail",e)},triggerPixel:function(e){b.uspi("S2S",e)},uniques:function(e,t,n){return n.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return b.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:b.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},verify:null,urlUtils:{parse:r},url:{type:0,parse:r,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(_.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return b.url().href;case"bidderTimeout":return y.auction.max_ms;case"consentManagement.cmpApi":return y.gdpr_consent_object.cmpApi;case"rubicon.singleRequest":return!0;case"priceGranularity":return"custom";case"customPriceBucket":return{buckets:(s.libSettings().bid_strategy||"").split(",").map(function(e){var t=e.split(":"),n=t[1].split("-").map(Number);return{precision:2,increment:t[0],min:n[0],max:n[1]}})};default:return _.config.config[e]}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof defaults)return b.err("defaults must be an object");b.assign(_.config.config,e)}},parse:r,registerBidder:function(){},userSync:{registerSync:function(e,t,n){var r="image"===e||"img"===e?b.uspi:"iframe"===e?b.uspf:void 0;r?r(t,n):b.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:d,loadExternalScript:function(e,t){b.log("module "+t+"is loading external JavaScript"),b.load(e,null,!0)},ajax:function(e,r,t,n){b.ajax(b.assign({},n,{data:t,url:e}),function(e,t,n){e&&r.error?r.error(e.err,e):r.success?r.success(t,n):r(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return y.PBJSObjects.bidRequests}},getStorageManager:function(){return{getCookie:function(e,t){var n=b.cr(e);return t&&"function"==typeof t?t(n):n},cookiesAreEnabled:function(e){var t=b.cookies;return e&&"function"==typeof e?e(t):t},hasLocalStorage:function(e){var t=!!window.localStorage;return e&&"function"==typeof e?e(t):t},setDataInLocalStorage:function(e,t,n){return window.localStorage.setItem(e,t),n&&"function"==typeof n?n():t},getDataFromLocalStorage:function(e,t){var n=window.localStorage.getItem(e);return t&&"function"==typeof t?t(n):n}}}};_.isArray=_.utils.isArray,_.isInteger=_.utils.isInteger,_.deepAccess=_.utils.deepAccess,_.generateUUID=_.utils.generateUUID,_.triggerPixel=_.utils.triggerPixel,_.convertTypes=_.utils.convertTypes,_.parseUrl=_.utils.parseUrl,t.exports={wrap:function(g){var f={};return function(c,u,e,p,l){this.gdprSupport=g.gdprSupport,this.uspSupport=g.uspSupport,this.settings=e,this.buildPrebidParams=function(e){return t=g.unitIDKey,n=g.floorKey,r=g.floorStr,i=e,delete(o=b.deepAssign({},i.params)).adjust,o[t]=i.bidder_unit_id,"string"==typeof o[t]&&-1===["undertone","yieldmo"].indexOf(i.bidder_name)&&o[t].match(/^\d+$/)&&(o[t]=parseInt(o[t])),"string"==typeof o.size&&(o.size=b.sizeStrToArr(o.size)),n&&(o[n]=i.min_cpm,r&&(o[n]=o[n].toFixed(2))),!o.video&&i.mediaTypes.video&&(o.video=b.copy(i.mediaTypes.video)),o;var t,n,r,i,o},this.getPrebidReqCtr=function(e){return(f[e]||0)+1},l&&l.on("pub.spa_pv_shutdown",function(){f={}}),this.execute=function(i){var n={};i.eachBidRequest(c,function(e){var t=e.toPrebidAdUnitCode();n[t]||(n[t]=!0,f[t]=(f[t]||0)+1)}),y.auction=i,y.gdpr_consent_object=p,y.alias=c;var o=i.toPrebidBidderReq(c);l.trigger("bidder.requested",o,i),g.floorKey&&g.floorStr&&o.bids.forEach(function(e){e.params[g.floorKey]=String(e.params[g.floorKey])}),o.start=(new Date).getTime();var e={bidderRequest:o,bidRequests:o.bids};y.PBJSObjects=e,"adagio"===c&&b.wrapAsync(g.spec.isBidRequestValid,void 0,g.spec)({params:{}});var a=b.wrapAsync(g.spec.buildRequests,void 0,g.spec)(e.bidRequests,e.bidderRequest);Array.isArray(a)||(a=[a]);var t,r,s=[],d=(t=c,r={},i.eachBidRequest(t,function(e,t){r[t.id]={config:t,unit:e}}),r);a.map(m).forEach(function(e,r){e.max_ms=i.ajax_ms,v(e,b.wrapAsync(function(e,t){var n;s.push(t),!e&&t&&(n=b.wrapAsync(g.spec.interpretResponse,void 0,g.spec)({body:t},a[r]),Array.isArray(n)||(n=[n].filter(Boolean)),n.forEach(function(e){var t,n,r,i=d[e.requestId];if(!i)return b.err(["unrequested response from",c,":",JSON.stringify(e)].join(" "));e.requestTimestamp=o.start,e.responseTimestamp=(new Date).getTime(),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,n=e,r=i.config,n.ad||n.native||n.renderer||(n.vastUrl||n.vastXml)&&r.renderer?(t=h(e,i),i.unit.addBid(i.config,t)):i.unit.addEmptyBid(i.config),i.found=!0})),s.length===a.length&&function(){Object.keys(d).map(function(e){return d[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),l.trigger("bidder.done",o,c,i);[].concat(g.spec.getUserSyncs&&b.wrapAsync(g.spec.getUserSyncs,void 0,g.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},s.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){_.userSync.registerSync(e.type,u,e.url)})}()}))})}}},polyfills:_}},{"./ajax.js":9,"./config.js":12,"./renderer.js":20,"./utils.js":23}],22:[function(e,t,n){var k=e("./utils"),C=e("./analytics"),R=e("./modules"),E=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.dom_ad_class="",this.settings={},this.unique_id=k.genID("U"),this.uuid=k.genUUID(),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var _=this,s={},x={},p=0,r={},w=[],l={},o=!1,A=!1,t=!1,S=!1,g=!1,a=[];this.init=function(){e&&(_.set(e),R.trigger("unit.init_config",_))},this.restrictSizesTo=function(e){_.all_sizes=_.original_sizes,k.logl("sz","Unit",_.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(g)),g=e,a.length&&_.allowSizes(a);for(var t,n,r=[],i=_.all_sizes.length-1;0<i;--i){-1===g.indexOf(_.all_sizes[i])&&(t=_.all_sizes[i],_.all_sizes.splice(i,1),0<=(n=_.other_sizes.indexOf(t))&&_.other_sizes.splice(n,1),r.push(t))}d(),k.logl("sz","Unit",_.alias,"removed sizes",JSON.stringify(r),"allowed sizes",JSON.stringify(g)),R.trigger("unit.restrict_sizes",_,g,r)},this.allowSizes=function(e){a=[],k.each(e,function(e){k.logl("sz","Unit size added",_.alias,e),g&&-1==g.indexOf(e)&&g.push(e),-1==a.indexOf(e)&&a.push(e),-1==_.other_sizes.indexOf(e)&&_.other_sizes.push(e),-1==_.all_sizes.indexOf(e)&&_.all_sizes.push(e),d()}),k.logl("sz","Unit",_.alias,"allowed sizes",a),R.trigger("unit.allow_sizes",_,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?_.hasOwnProperty(t)&&"function"!=typeof _[t]&&(_[t]=JSON.parse(JSON.stringify(e[t]))):k.each(e[t],function(e,t){_.settings[t]=e}));_.all_sizes=[_.size].concat(_.other_sizes),_.original_sizes=[].concat(_.all_sizes),k.logl("sz","Unit definition original_sizes=",JSON.stringify(_.original_sizes),"size=",JSON.stringify(_.size),"other_sizes=",JSON.stringify(_.other_sizes)),k.qs("adb_force_bidder")&&(_.min_cpm=0),d(),R.trigger("unit.config",_)},this.addBidder=function(e,t){l[e]=t},this.eachBidder=function(e){for(var t in l)l.hasOwnProperty(t)&&s[t]&&e(t,l[t])},this.hasBidReqConf=function(){return 0<p},this.addBidReqConf=function(d,e,t){var c,u={id:k.genID("BR"),uuid:k.genUUID(),unit:_,adjust:1,bidder_name:d,bidder_id:e.bidder_id,bidder_unit_id:e.bidder_unit_id,min_cpm:_.min_cpm,size:_.size,other_sizes:_.other_sizes,all_sizes:[],responses:[],late_responses:[],test:e.test,toPrebid:function(){var e=_.auction.getBdrReqId(d),t=_.toPrebidUIDs(),n=k.copy(_.settings.mediaTypes),r=f(n,_.all_sizes),i=_.toPrebidAdUnitCode();c=c||l[d].getPrebidReqCtr(i);var o=_.get("imp_ctr")||1,a=k.assign({src:"client",adUnitCode:i,adbconfig:_.alias,auctionId:_.auction.uuid,bidId:u.id,bidder:d,bidderRequestId:e,bidderRequestsCount:c,bidderWinsCount:0,bidRequestsCount:o,mediaTypes:n,params:u.params,sizes:r,transactionId:_.uuid,renderer:_.settings.renderer},t),s=u.mediaTypes.native||u.nativeParams;return s&&(a.nativeParams=s),a}};if(l[d]){k.deepAssign(u,_.settings,l[d].settings,e.settings),u.params=k.deepAssign({},l[d].settings,e.settings),1!=u.adjust&&(u.min_cpm=Number((u.min_cpm/u.adjust).toFixed(2)));var n=[],r=!1;if("function"==typeof e.mutate&&n.push({n:"BidReq",f:e.mutate}),"function"==typeof l[d].mutate&&n.push({n:"Bidder",f:l[d].mutate}),k.each(n,function(e){e.f(u,t)||(r=!0,k.log(e.n+" mutate rejected BR: ",u))}),!r)if(!u.test||k.qsab(d,u.bidder_id,!0)){if(e.settings.size?u.other_sizes=[]:"string"==typeof u.other_sizes&&(u.other_sizes=u.other_sizes?u.other_sizes.split(","):[]),g){var i=[];0<=g.indexOf(u.size)&&i.push(u.size);for(var o=0;o<u.other_sizes.length;++o){var a=u.other_sizes[o];0<=g.indexOf(a)&&i.push(a)}if(!i.length)return void(g.length&&k.log("Unit ",_.alias," skipped configuration for ",u.bidder_name," because it does not support any of these sizes: ",g));u.size=i[0],u.other_sizes=i.slice(1)}u.all_sizes=[u.size].concat(u.other_sizes),k.logl("sz","Bid request sizes:",u.all_sizes),s[d]||(s[d]=[]),s[d].push(u),x[u.id]=u,++p,u.params=l[d].buildPrebidParams(u),R.trigger("unit.config_brc",_,u)}else k.log("Test configuration skipped: ",u)}else k.err("BR missing bidder",d)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?k.each(s[e],t):k.each(x,t)},this.getBidReqConf=function(e){return x[e]||!1},this.set=function(e,t){if("object"!=typeof e)r[e]=t;else for(var n in e)e.hasOwnProperty(n)&&_.set(n,e[n])},this.setImpData=function(e,t,n){var r=_.get("adb_imp_data")||{};r[e]=n&&r[e]||t,_.set("adb_imp_data",r)},this.get=function(e){return r[e]},this.halt=function(){A=!0},this.onReady=function(e){t=e,I()};var I=function(){S&&t&&setTimeout(function(){t(_)},0)};this.markEmpty=function(e){_.eachBidReqConf(e,function(e){e.responses.length||_.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=x[t]))return void k.err("Could not find bid req: ",t)}e.responses.length||A&&e.late_responses.length||_.addBid(e,{})};function z(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative}this.addBid=function(e,t){if(!e||!_.getBidReqConf(e.id))return k.err("Bid request from ",e.bidder_name,"not found on unit",_.id),!1;var n=Number(parseFloat(t.cpm).toFixed(2))||0,r=Number(t.width)||0,i=Number(t.height)||0,o=t.creative||"",a=t.creative_url||"",s=t.extras||{},d=t.force||!1,c=t.render,u=t.vastUrl,p=t.vastXml,l=t.rawbid;n||(t.empty=!0);var g=Number((n*e.adjust).toFixed(2)),f=e.min_cpm;0<f&&g<f&&(g=0);var m=E.libSettings().pubchkcreativefn;o&&"function"==typeof m&&!m(e,t,E.libSettings())&&(k.log("Creative blocked: ",e.bidder_id,r,i,g,s),g=0);var h=t.fromPool?t.ts:k.dts(),v={id:_.id+"."+k.genID("B"),ms:Math.round(h-_.auction.ts),ts:h,config:e,viable:!A,cpm:g,_min_cpm:f,_bid_cpm:n,force:d,width:r,height:i,creative:o,creative_url:a,extras:s,render:c,vastUrl:u,vastXml:p,rawbid:l,fromPool:t.fromPool};if(T(v),function(e,t){for(var n=0;n<e.responses.length;++n)if(z(t,e.responses[n]))return!0;for(n=0;n<e.late_responses.length;++n)if(z(t,e.late_responses[n]))return!0;return!1}(e,v))return k.log("Unit ",_.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",v.ms,v.width+"x"+v.height,v.cpm.toFixed(2)),!1;var b,y=v.viable?"":"late ";return!v.cpm&&0<v._bid_cpm?(b=1!=e.adjust?" * "+e.adjust+" = "+Number((v._bid_cpm*e.adjust).toFixed(2)):"",y+="below-floor ("+v._bid_cpm+b+" < "+v._min_cpm+") "):t.empty&&(y+="empty "),k.log("Unit ",_.alias,"got",y+"bid from ",e.bidder_name," on BR ",e.id,": ",v.ms,v.width+"x"+v.height,v.cpm.toFixed(2)),R.trigger("bid.ready",v),v.pbjsBid&&j(v),v.viable?(e.responses.push(v),w.push(v),R.trigger("bid.response",v),function(){if(!A){for(var e in x){var t=x[e];if(t.responses&&!t.responses.length)return}S=!0,I()}}()):(e.late_responses.push(v),C.lateBid(v)),v},this.getWinner=function(){return o||("function"==typeof E.libSettings().filter_bid&&k.wrapAsync(E.libSettings().filter_bid),k.each(w,function(t){R.trigger("bid.auction_close_filter",_,t),t.blocked&&(t.cpm=0,k.log("Bid filtered out",_.alias,t.config.bidder_name,t.blocked));var e=t.width+"x"+t.height;if(t.cpm&&g&&g&&-1==g.indexOf(e)){var n=t.fromPool&&t.fromPool!==_.unique_id?"(pooled bid)":"";return k.log("Unit ",_.alias,"rejected",n,t.config.bidder_name,"invalid size",e),void(t.fromPool||k.err("U",_.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,g))}var r=t.cpm&&(!o||t.cpm>o.cpm||t.cpm==o.cpm&&.5<Math.random());if(o&&o.force&&(r=!1),t.force||r){o=t;try{function i(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))}i("creative"),i("creative_url")}catch(e){k.err("Macro failed: ",e)}}}),o&&(k.log("Unit ",_.alias,"set winner to ",o.config.bidder_name,o.fromPool&&o.fromPool!==_.unique_id?"(from pool)":"",o.width+"x"+o.height,o.cpm.toFixed(2)),R.trigger("bid.auction_winner",o))),o},this.toPrebidUIDs=function(){var i=!1;return k.each(r,function(e,t){var n=t.match(/^userId\.(.+)$/),r=t.match(/^userIdAsEids\.(.+)$/);!n&&!r||i||(i={userId:{},userIdAsEids:[]}),n&&(i.userId[n[1]]=e),r&&i.userIdAsEids.push(e)}),i&&i.userId.pubcid&&(i.crumbs={pubcid:i.userId.pubcid}),i||{}};function i(e,t){return k.toRange(e,t).kv.split("-").shift()}var d=function(){_.settings.mediaTypes||(_.settings.mediaTypes={}),_.settings.mediaTypes.banner={sizes:_.all_sizes.filter(Boolean).map(k.sizeStrToArr)}},f=function(e,t){var n=e.banner?k.copy(e.banner.sizes):[];if(e.video){var r=e.video.playerSize;k.isarr(r[0])||(r=[r]);for(var i=0;i<r.length;++i){var o=r[i].join("x");-1===t.indexOf(o)&&n.push(r[i])}}return n},T=function(e){var t,n=e.config.toPrebid();e.rawbid&&e.viable?(t=k.deepAssign({},e.rawbid,{source:"client",statusMessage:"Bid available",currency:"USD",originalCurrency:"USD",cpm:e.cpm,originalCpm:e._bid_cpm,bidderCode:n.bidder,bidder:n.bidder,requestId:n.bidId,adUnitCode:n.adUnitCode,adbconfig:n.adbconfig,auctionId:n.auctionId,adId:e.id,mediaType:e.rawbid.mediaType,creativeId:e.rawbid.creativeId,netRevenue:e.rawbid.netRevenue,width:e.width,height:e.height}),e.pbjsBidO=k.deepAssign({},t),e.pbjsBid=t):e.pbjsNoBid=n},j=function(e){var t,n=e.width+"x"+e.height,r=(t=e.pbjsBid.cpm,{pbLg:i(t,".5:0-5"),pbMg:i(t,".1:0-20"),pbHg:i(t,".01:0-20"),pbDg:i(t,".01:0-2.99;.05:3-7.5;.5:8-20"),pbAg:i(t,".05:0-4.95;.1:5-9.5;.5:10-20"),pbCg:i(t,E.libSettings().bid_strategy)});k.assign(e.pbjsBid,r,{size:n,adserverTargeting:{hb_bidder:e.pbjsBid.bidderCode,hb_adid:e.pbjsBid.adId,hb_pb:r.pbMg,hb_size:n,hb_source:"client",hb_format:e.rawbid.mediaType}})};this.toPrebidAdUnitCode=function(){return _.get("dom_id")||_.unique_id},this.toPrebidAdUnit=function(){var e=k.copy(this.settings.mediaTypes),t=f(e,this.all_sizes),n=this.toPrebidUIDs(),r=[];return this.eachBidReqConf(function(e){r.push(k.assign({bidder:e.bidder_name,params:e.params},n))}),{code:this.toPrebidAdUnitCode(),adbconfig:this.alias,sizes:t,mediaTypes:e,bids:r,transactionId:this.uuid}},this.toPrebidResults=function(){var t={noBids:[],bidsReceived:[],winningBids:[]};return k.each(w,function(e){return e.pbjsBid?t.bidsReceived.push(e.pbjsBid):e.pbjsNoBid?t.noBids.push(e.pbjsNoBid):e.adbridg_rendered?t.winningBids.push(e.pbjsBid):void 0}),t},this.init()}},{"./analytics":10,"./config":12,"./modules":15,"./utils":23}],23:[function(e,t,g){var r;g.wrapAsync=function(e,t,n){return function(){try{return e.apply(n||this,arguments)}catch(e){t?t(e):g.err("Caught AsyncErr: ",e)}}},g.thread=function(t){return t=g.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},g.attempt=function(e,t){try{return e()}catch(e){}return t};function i(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}var n=1,o=(new Date).getTime(),a=function(){try{o-=Math.round(performance.now()),a=function(){return i()+"T"+Math.round(performance.now()).toString(36)},r=[n,o.toString(36),a()]}catch(e){a=function(){return i()+"T"+Math.max(0,(new Date).getTime()-o).toString(36)},r=[n=0,o.toString(36),i()+"T0"]}};a();function f(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),n}f(document,"readystatechange",function(){var e,t,n;3==i()&&(e=document,t="readystatechange",n=arguments.callee,e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)),r.push(a())}),g.perfts=function(){return a()},g.pgts=function(){return r},g.dts=function(){return n?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-o).toFixed(2))};var s=0;g.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},g.vp=function(){var e,t,n,r=document;try{e=window.innerWidth,t=window.innerHeight,n=window.pageYOffset}catch(e){}return{w:e||(r.documentElement&&r.documentElement.clientWidth||r.body&&r.body.clientWidth)||0,h:t||(r.documentElement&&r.documentElement.clientHeight||r.body&&r.body.clientHeight)||0,y:n||r.body&&r.body.scrollTop||0}},g.cr=function(e){var t=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t=t?decodeURIComponent(t[2]):""},g.cw=function(e,t,n){exp_string=0<(n=n||1)?"max-age="+86400*n:"max-age=-99999";var r=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain="+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1");document.cookie=r},g.lr=function(t){var e="";try{var n,r=localStorage.getItem(t);r&&(r=JSON.parse(r),n=(new Date).getTime(),r.e&&parseInt(r.e,36)<n?g.logl("ls","LS expired",t,r,n):(g.logl("ls","LS read",t,r),e=r.v))}catch(e){g.logl("ls","LS read fail",t,json_decode_it,e)}return e},g.lw=function(t,n,r){try{var e,i={v:n};r&&(e=(new Date).getTime(),i.s=e.toString(36),i.e=(e+864e5*r).toString(36)),i=JSON.stringify(i),localStorage.setItem(t,i),g.logl("ls","LS written",t,n,r,i)}catch(e){g.logl("ls","LS write fail",t,n,r,e)}};try{var d="adbct";g.cw(d,1),g.cookies=!!g.cr(d),g.cw(d,"",-1)}catch(e){}try{g.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}g.https=!("https:"!=location.protocol),g.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,g.genUUID)}catch(e){return 0}},g.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=g.qs("adb_force_bidder"),u=g.qs("adb_allow_bidder"),p=[];c&&"*"!=c&&(p=p.concat(c.split(","))),u&&"*"!=u&&(p=p.concat(u.split(","))),g.qsab=function(e,t,n){return t=String(t),"*"==u||"*"==c||(!n&&!c||0<=p.indexOf(t)||0<=p.indexOf(e))},g.qsappend=function(e,t,n,r){return r&&!t?"":(n&&(t=encodeURIComponent(t)),"&"+e+"="+t)},g.toqs=function(e,n){var r="";return g.each(e,function(e,t){g.isarr(e)?g.each(e,function(e){r+=g.qsappend(t+"[]",e,n)}):r+=g.qsappend(t,e,n)}),r.replace(/^\&/,"")},g.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var n=0;n<e.length;++n)t(e[n],n);else for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)},g.sizeStrToArr=function(e){return g.isarr(e)?e:"string"==typeof e?e.split("x").map(Number):(g.err("BadSizeConvert",e),e)},g.resize_element=function(e,t,n){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=n&&(e.style.height=n+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=n&&e.setAttribute("height",n)},g.resize_iframe=function(e,t,n,r){try{for(var i=e.document.getElementsByTagName("iframe")||[],o=0;o<i.length;++o)try{if(i[o].contentDocument===t)return g.resize_element(i[o],n,r),void(e!==top&&g.resize_iframe(e.parent,e.document,n,r))}catch(e){}}catch(e){g.err("Error resizing window to "+n+"x"+r,e)}g.err("Failed to resize window to "+n+"x"+r)},g.url=function(){var t,n,r,i,o,e=top,a=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,n=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,r=e.document.referrer,i=e.document.title,o=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),n=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),o=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,i=r=""}catch(e){}}return t&&n||(t=a.location.host,n=a.location.pathname+a.location.search+a.location.hash,o=a.location.protocol,href=a.location.href,r=s.referrer),{domain:t,page:n,href:href,referrer:r,title:i,is_top:d,protocol:o}},g.pixel=function(e,t){var n=t?(new Date).getTime():Math.random();document.createElement("img").src=e+"&rnd="+n},g.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},g.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+g.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var l,m=[],h={};g.uspf=g.wrapAsync(function(e,t){g.logl("px","UserSync qF",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"f",u:t})}),g.uspi=g.wrapAsync(function(e,t){g.logl("px","UserSync qI",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"i",u:t})});var v=!0,b=!0,y=500;g.cfusp=function(e,t,n){e||(v=!1),t||(b=!1),n&&(y=n),g.log("UserSync set: ",{image:v,iframe:b,delay:y})};var _=g.wrapAsync(function(){if(clearTimeout(l),m.length){var e=Math.floor(Math.random()*m.length),t=m[e];if(m.splice(e,1),b&&"f"==t.t){var n=document.createElement("div");n.innerHTML=g.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(n.firstChild),g.log("UserSync (F): ",t.a,t.u)}else{if(!v||"i"!=t.t)return g.log("UserSync not sent (!): ",t),_();document.createElement("img").src=t.u,g.log("UserSync (I): ",t.a,t.u)}l=setTimeout(_,50)}});g.qdusp=function(){if(g.logl("px","UserSync Q",m,y,v,b,g.safari,g.cookies),g.safari||!g.cookies)return g.logl("px","UserSync skipped",g.safari,g.cookies);clearTimeout(l),l=setTimeout(_,y)};var x={};g.load=function(e,t,n,r){var i,o;t=t?g.wrapAsync(t):function(){},n&&x[e]?x[e].ready?t():x[e].cbs.push(t):(n&&(x[e]||(x[e]={ready:!1,cbs:[t]}),t=function(){x[e].ready=!0,g.each(x[e].cbs,function(e){e()})}),(i=document.createElement("script")).type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=t,i.src=e,(o=r||(document.body||document.head)).appendChild(i,o.firstChild))},g.loadCached=function(e,t){g.load(e,t,!0)},g.iiframe=function(e){var t=document.createElement("iframe");return t.id=g.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},g.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t};var w=!(g.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)});g.isdebug=function(){return w},g.setdebug=function(e){e&&(w=e,document.cookie="adb_debug="+w+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},g.setdebug(g.qs("adb_debug")||g.cr("adb_debug")),g.log=function(){if(w){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+g.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},g.logl=function(e){w==e&&g.log.apply(g,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var A=[];g.err=function(){var t=Array.prototype.slice.apply(arguments);if(w){var e=[].concat(t);e.unshift("AdBridg | "+g.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}A.length&&g.each(A,function(e){e.apply(null,t)})};var S=!(g.onerr=function(e){A.push(e)}),I=[];g.onrec=function(e){for(S=e;I.length;)S(I.shift())},g.rec=function(e){S?S(e):I.push(e)};var z={};g.toRange=function(e,t){e=Math.round(100*e);for(var n=function(e){if(!z[e=e||".05:.05-10"]){z[e]=[];for(var t=e.split(","),n=0;n<t.length;++n){var r=t[n].split(":"),i=r[1].split("-"),o={increment:Math.round(100*parseFloat(r[0])),upper:Math.round(100*parseFloat(i[1])),final:!1};n==t.length-1&&(o.final=o.upper-o.increment),z[e].push(o)}}return z[e]}(t),r=0;r<n.length;++r){var i=n[r];if(i.final&&e>=i.upper-i.increment)return{r:parseFloat(((i.final+i.increment)/100).toFixed(2)),kv:(i.final/100).toFixed(2)+"-"};if(!(e>=i.upper)){var o=Math.floor(e/i.increment)*i.increment/100,a=parseFloat((o+i.increment/100).toFixed(2)),s=a-.01;return{r:a,kv:Math.max(.01,o).toFixed(2)+"-"+s.toFixed(2)}}}},g.fb62=function(e){for(var t=0,n=e.length-1,r=n;0<=r;r--){var i=e.charCodeAt(r),o=r===n?1:Math.pow(62,n-r);if(96<i&&i<123)t+=o*(i-87);else if(64<i&&i<91)t+=o*(i-29);else{if(!(47<i&&i<58))return"NaN";t+=o*(i-48)}}return t},g.dom=g.wrapAsync(function(e,t,n,r,i,o){T.add(e,t,n,r,i,o)}),g.undom=g.wrapAsync(function(e,t){T.remove(e,t)}),g.lzrescan=g.wrapAsync(function(){T.rescan()});var T=new function(){var n,s={},d=0,c=[],r=!1,i=!1,u=!1;this.add=function(e,t,n,r,i,o){s[e]=s[e]||[],s[e].push({c:r,d:t,t:n,i:e,f:i,x:o}),d+=1,l()},this.remove=function(e,t){var n,r=s[e]||[];if(t)for(n=r.length-1;0<=n;--n)r[n].c===t&&s[e].splice(n,1);for(t&&r.length||delete s[e],n=c.length-1;0<=n;--n)t&&c[n].c!==t||c.splice(n,1)},this.rescan=function(){g.logl("lz","Lazy explicit rescan"),n=setTimeout(l,0)},f(window,"scroll",function(){u=!0,!n&&d&&(g.logl("lz","Lazy scroll wait",100),n=setTimeout(l,100))});function p(e,t){if(e.f&&!e.f(e,t,u))return g.logl("lz","Lazy blocked",e,u),!1;if(!t.v){if(!e.x)return g.logl("lz","Lazy cannot measure el",e,t),!1;var n=document.getElementById(e.i);if(!n)return g.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var r=(n||{}).parentNode;if(!r)return g.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var i=g.where(r);if(!i.v)return g.logl("lz","Lazy collapse check - parent invis",e,t,i),!1;var o=document.createElement("span");o.style="position:absolute;display:block;width:1px;height:1px;",r.insertBefore(o,n);var a=g.where(o);r.removeChild(o),g.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:a})),t=a}return 0<e.d&&e.d<1?t.v>e.d:t.d<=e.d}var l=g.thread(function(){var a,e,t=g.dts();clearTimeout(n),n=!1,r||t-i<50?n=setTimeout(l,50):(r=!0,i=t,g.logl("lz","Lazy measure",t),a=[],g.each(s,function(e,t){var n=g.where(t);if(!n)return g.logl("lz","Lazy no dom",t);for(var r=e.length-1;0<=r;--r){var i=e[r],o=p(i,n);g.logl("lz","Lazy check",JSON.stringify({el:t,coords:n,reqdist:i.d,criteria:o,seenscr:u})),o&&(--d,e.splice(r,1),c.push(i),g.logl("lz","Lazy to duration",t))}e.length||a.push(t)}),g.each(a,function(e){delete s[e]}),e=function(e){for(var t=!1,n=c.length-1;0<=n;--n){var r=c[n],i=r.i;if(g.logl("lz","Lazy check time",r,i," has scroll event: ",u),r.tx){if(!p(r,g.where(i))){g.logl("lz","Lazy back to distance",i),r.tx=0,c.splice(n,1),s[i]=s[i]||[],s[i].push(r),d+=1;continue}}else r.tx=e+r.t;var o=r.tx-e;o<=0?(g.logl("lz","Lazy execute",i),c.splice(n,1),g.thread(r.c)()):t=t?Math.min(1+o,t):1+o}return t}(t)||100,c.length&&(g.logl("lz","Lazy duration wait",e),n=setTimeout(l,e)),r=!1)})};g.where=function(e){if("string"==typeof e&&(e=document.getElementById(e)),!e)return!1;var t=e.getBoundingClientRect(),n=g.vp(),r=t.top,i=t.height,o=t.top+i,a="in_viewport",s=0,d=1,c=j(e);return c&&(d=0,a="unknown"),r<0?(s=o<0?Math.abs(o):0,a=((d=0<o?o/i:0)?"partially_":"")+"above_viewport"):o>n.h&&(s=r>n.h?r-n.h:0,a=((d=r<n.h?(n.h-r)/i:0)?"partially_":"")+"below_viewport"),{i:c,p:a,d:s,v:d,c:{vp:n,t:r,h:i,b:o}}},g.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},g.copy=function(e){if(g.isarr(e)){for(var t=[],n=0;n<e.length;++n)t.push(g.copy(e[n]));return t}return"object"==typeof e?g.deepAssign({},e):e},g.deepAssign=function(e){if(!e)return e;for(var n=Object(e),t=1;t<arguments.length;t++){var r=arguments[t];g.each(r,function(e,t){n[t]=g.copy(e)})}return n},g.deepAccess=function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)},g.deepEq=function(i,o,a,s){if(s=s||"",(a=a||[]).some(function(e){return e===s}))return!0;if("function"==typeof o&&o(i))return!0;if("object"!=typeof i||"object"!=typeof o||null==i||null==o)return i===o||{p:s,o1:i,o2:o};var e=Object.keys(Object.assign({},i,o)).reduce(function(e,t){var n=s?s+"."+t:t,r=g.deepEq(i[t],o[t],a,n);return r&&r.hasOwnProperty("p")&&r.hasOwnProperty("o1")&&r.hasOwnProperty("o2")?e.push(r):!0!==r&&(e=e.concat(r)),e},[]);return 0===e.length||e};var j=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){g.err("get_invis_fail")}return!1};g.dom_invisible=g.wrapAsync(function(e){var t=document.getElementById(e),n=j(t);if(n)return"el_"+n;for(var r=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(r+=1,n=j(t))return"anc_"+r+"_"+n;return!1})},{}]},{},[14]);